/*
 js-cookie v2.2.0 | MIT */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,f){a instanceof String&&(a=String(a));for(var h=a.length,k=0;k<h;k++){var b=a[k];if(c.call(f,b,k,a))return{i:k,v:b}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,f){a!=Array.prototype&&a!=Object.prototype&&(a[c]=f.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,c,f,h){if(c){f=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var k=a[h];k in f||(f[k]={});f=f[k]}a=a[a.length-1];h=f[a];c=c(h);c!=h&&null!=c&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,h={next:function(){if(f<a.length){var k=f++;return{value:c(k,a[k]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h};
$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
!function(a){var c=!1;if("function"==typeof define&&define.amd&&(define(a),c=!0),"object"==typeof exports&&(module.exports=a(),c=!0),!c){var f=window.Cookies,h=window.Cookies=a();h.noConflict=function(){return window.Cookies=f,h}}}(function(){function a(){for(var a=0,c={};a<arguments.length;a++){var k=arguments[a],b;for(b in k)c[b]=k[b]}return c}function c(f){function h(c,b,d){if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(d=a({path:"/"},h.defaults,d)).expires){var e=
new Date;e.setMilliseconds(e.getMilliseconds()+864E5*d.expires);d.expires=e}d.expires=d.expires?d.expires.toUTCString():"";try{var g=JSON.stringify(b);/^[\{\[]/.test(g)&&(b=g)}catch(t){}b=f.write?f.write(b,c):encodeURIComponent(b+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);c=(c=(c=encodeURIComponent(c+"")).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);g="";for(var m in d)d[m]&&(g+="; "+m,!0!==d[m]&&(g+="="+d[m]));
return document.cookie=c+"="+b+g}c||(g={});m=document.cookie?document.cookie.split("; "):[];for(var n=/(%[0-9A-Z]{2})+/g,q=0;q<m.length;q++){var l=m[q].split("="),k=l.slice(1).join("=");this.json||'"'!==k.charAt(0)||(k=k.slice(1,-1));try{e=l[0].replace(n,decodeURIComponent);if(k=f.read?f.read(k,e):f(k,e)||k.replace(n,decodeURIComponent),this.json)try{k=JSON.parse(k)}catch(t){}if(c===e){g=k;break}c||(g[e]=k)}catch(t){}}return g}}return h.set=h,h.get=function(a){return h.call(h,a)},h.getJSON=function(){return h.apply({json:!0},
[].slice.call(arguments))},h.defaults={},h.remove=function(c,b){h(c,"",a(b,{expires:-1}))},h.withConverter=c,h}return c(function(){})});function StorageWrapper(){"undefined"!==typeof Storage&&window.hasOwnProperty("localStorage")&&window.localStorage instanceof Storage?(this._localStorage=window.localStorage,this._storageFromCookies=null):(this._localStorage=null,this._storageFromCookies=Cookies.noConflict())}StorageWrapper.prototype.SetData=function(a,c){return this._localStorage?(this._localStorage.setItem(a,c),!0):this._storageFromCookies?(this._storageFromCookies.set(a,c,{expires:365,path:""}),!0):!1};
StorageWrapper.prototype.GetData=function(a){return this._localStorage?this._localStorage.getItem(a):this._storageFromCookies?this._storageFromCookies.get(a,{path:""}):defaultValue};StorageWrapper.prototype.DeleteData=function(a){return this._localStorage?(this._localStorage.removeItem(a),!0):this._storageFromCookies?Cookies.remove(a,{path:""}):!1};StorageWrapper.prototype.DeleteAllDatas=function(){return this._localStorage?(this._localStorage.clear(),!0):!1};var SafeStorage=new StorageWrapper;function EventHandler(){this.callbacks=[]}EventHandler.prototype.Unregister=function(a){"function"===typeof a&&(a=this.callbacks.indexOf(a),-1!==a&&this.callbacks.splice(a,1))};EventHandler.prototype.Register=function(a){"function"===typeof a&&-1===this.callbacks.indexOf(a)&&this.callbacks.push(a)};EventHandler.prototype.Trigger=function(a){0!==this.callbacks.length&&this.callbacks.forEach(function(c,f,h){c(a)})};var _transitiontype=null;function whichTransitionEvent(){if(_transitiontype)return _transitiontype;var a,c=document.createElement("div"),f={transition:"animationend",WebkitTransition:"webkitAnimationEnd"};for(a in f)void 0!==c.style[a]&&(_transitiontype=f[a]);return _transitiontype}
function SkillTreeToolTipFramework(a,c){if(!a)throw"Tooltip target can't be null.";if(!c)throw"Tooltip selector can't be null.";this._selector=c;var f=this,h=$(window),k=$(document);this.mouseY=this.mouseX=this.basemouseY=this.basemouseX=0;this.lastRendermouseY=this.lastRendermouseX=void 0;this._boundBottom=this._boundRight=this._boundLeft=this._boundTop=0;this.isRendering=this.IsListening=!1;this.cancelID;this._target=a;this.refreshOnClick=this._useAnimation=!0;a.addClass("animated");this.OnMouseEnter=
new EventHandler;this.OnMouseLeave=new EventHandler;this.OnTooltipHidden=new EventHandler;var b=null;this.listenFunc=function(b){f.mouseX=b.clientX;f.mouseY=b.clientY};this.mouseClick=function(a){f.refreshOnClick&&(b=null)};this.mouseOn=function(a){if(a.target!==b||!0!==f.isRendering)f.isRendering=!0,b=a.target,f.basemouseX=f.mouseX,f.basemouseY=f.mouseY,f.OnMouseEnter.Trigger(a),f._target.css({top:f.mouseY+"px",left:f.mouseX+"px"}),!0!==a.cancel&&(f.UpdateTooltipSize(),f.onRender(),f._useAnimation?
(f._hidingID&&clearTimeout(f._hidingID),f._hidingID=null,f._target.removeClass("fadeout-custom"),f._target.addClass("fadein-custom").show()):f._target.stop(!1,!0).show())};this.mouseOff=function(b){f.isRendering=!1;this.cancelID&&window.cancelAnimationFrame(f.cancelID);f.cancelID=null;f._useAnimation?(f._target.removeClass("fadein-custom"),f._target.addClass("fadeout-custom")):(f._target.stop(!1,!0).hide(),something._tooltipHeight=0,something._tooltipWidth=0,something.OnTooltipHidden.Trigger(something._target));
f.OnMouseLeave.Trigger(b)};this.onAnimationCompleted=function(b){!1===f.isRendering&&(f._target.hide(),f._tooltipHeight=0,f._tooltipWidth=0,f.lastRendermouseX=void 0,f.lastRendermouseY=void 0,f.OnTooltipHidden.Trigger(f._target))};this.onRender=function(){f.cancelID=!0===f.isRendering?window.requestAnimationFrame(f.onRender):null;if(f.lastRendermouseX!==f.mouseX||f.lastRendermouseY!==f.mouseY){f.lastRendermouseX=f.mouseX;f.lastRendermouseY=f.mouseY;var b=f.lastRendermouseY+5,a=b+f._tooltipHeight,
g=h.height(),m=k.height(),c=Math.min(g,m);g=f.lastRendermouseX+5;m=g+f._tooltipWidth;var q=h.width(),l=k.width();q=Math.min(q,l);c-=f._boundBottom;b=a>c?c-f._tooltipHeight-f.basemouseY:b-f.basemouseY;c=q-f._boundRight;f._target.css({transform:"translate("+(m>c?c-f._tooltipWidth-f.basemouseX:g-f.basemouseX)+"px,"+b+"px)"})}}}
SkillTreeToolTipFramework.prototype.UpdateTooltipSize=function(){this._tooltipHeight=this._target.outerHeight(!0);this._tooltipWidth=this._target.outerWidth(!0);this.lastRendermouseY=this.lastRendermouseX=void 0};
SkillTreeToolTipFramework.prototype.SetBound=function(a,c,f,h){"number"===typeof a?(this._boundTop=a,this._boundLeft=c,this._boundRight=f,this._boundBottom=h):(a.hasOwnProperty("top")?this._boundTop=a.top:this._boundTop=0,a.hasOwnProperty("left")?this._boundLeft=a.left:this._boundLeft=0,a.hasOwnProperty("right")?this._boundRight=a.right:this._boundRight=0,a.hasOwnProperty("bottom")?this._boundBottom=a.bottom:this._boundBottom=0)};
SkillTreeToolTipFramework.prototype.StartListen=function(){!0!==this.IsListening&&(this.IsListening=!0,$(document.body).on("mouseover",this._selector,this.mouseOn),$(document.body).on("mousemove",this._selector,this.listenFunc),$(document.body).on("mouseout",this._selector,this.mouseOff),$(document.body).on("click",this._selector,this.mouseClick),this._target[0].addEventListener(whichTransitionEvent(),this.onAnimationCompleted))};
SkillTreeToolTipFramework.prototype.StopListen=function(){!1!==this.IsListening&&(this.IsListening=!1,$(document.body).off("mouseover",this._selector,this.mouseOn),$(document.body).off("mousemove",this._selector,this.listenFunc),$(document.body).off("mouseout",this._selector,this.mouseOff),$(document.body).off("click",this._selector,this.mouseClick),this._target[0].removeEventListener(whichTransitionEvent(),this.onAnimationCompleted),this.isRendering=!1,this.cancelID&&window.cancelAnimationFrame(this.cancelID),
this.cancelID=null)};/*
 imagesLoaded PACKAGED v4.1.4
 JavaScript is all like "You images are done yet or what?"
 MIT License
*/
!function(a,c){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",c):"object"==typeof module&&module.exports?module.exports=c():a.EvEmitter=c()}("undefined"!=typeof window?window:this,function(){function a(){}var c=a.prototype;return c.on=function(a,c){if(a&&c){var f=this._events=this._events||{};a=f[a]=f[a]||[];return-1==a.indexOf(c)&&a.push(c),this}},c.once=function(a,c){if(a&&c){this.on(a,c);var f=this._onceEvents=this._onceEvents||{};return(f[a]=f[a]||{})[c]=!0,this}},c.off=
function(a,c){if((a=this._events&&this._events[a])&&a.length)return c=a.indexOf(c),-1!=c&&a.splice(c,1),this},c.emitEvent=function(a,c){var f=this._events&&this._events[a];if(f&&f.length){f=f.slice(0);c=c||[];for(var b=this._onceEvents&&this._onceEvents[a],d=0;d<f.length;d++){var e=f[d];b&&b[e]&&(this.off(a,e),delete b[e]);e.apply(this,c)}return this}},c.allOff=function(){delete this._events;delete this._onceEvents},a});
(function(a,c){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(f){return c(a,f)}):"object"==typeof module&&module.exports?module.exports=c(a,require("ev-emitter")):a.imagesLoaded=c(a,a.EvEmitter)})("undefined"!=typeof window?window:this,function(a,c){function f(b,a){for(var d in a)b[d]=a[d];return b}function h(b,a,m){if(!(this instanceof h))return new h(b,a,m);var c=b;"string"==typeof b&&(c=document.querySelectorAll(b));c?(b=c,b=Array.isArray(b)?b:"object"==typeof b&&
"number"==typeof b.length?g.call(b):[b],a=(this.elements=b,this.options=f({},this.options),"function"==typeof a?m=a:f(this.options,a),m&&this.on("always",m),this.getImages(),d&&(this.jqDeferred=new d.Deferred),void setTimeout(this.check.bind(this)))):a=void e.error("Bad element for imagesLoaded "+(c||b));return a}function k(b){this.img=b}function b(b,a){this.url=b;this.element=a;this.img=new Image}var d=a.jQuery,e=a.console,g=Array.prototype.slice;h.prototype=Object.create(c.prototype);h.prototype.options=
{};h.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this)};h.prototype.addElementImages=function(b){"IMG"==b.nodeName&&this.addImage(b);!0===this.options.background&&this.addElementBackgroundImages(b);var a=b.nodeType;if(a&&m[a]){var d=b.querySelectorAll("img");for(a=0;a<d.length;a++)this.addImage(d[a]);if("string"==typeof this.options.background)for(b=b.querySelectorAll(this.options.background),a=0;a<b.length;a++)this.addElementBackgroundImages(b[a])}};
var m={1:!0,9:!0,11:!0};return h.prototype.addElementBackgroundImages=function(b){var a=getComputedStyle(b);if(a)for(var d=/url\((['"])?(.*?)\1\)/gi,g=d.exec(a.backgroundImage);null!==g;)(g=g&&g[2])&&this.addBackground(g,b),g=d.exec(a.backgroundImage)},h.prototype.addImage=function(b){b=new k(b);this.images.push(b)},h.prototype.addBackground=function(a,d){a=new b(a,d);this.images.push(a)},h.prototype.check=function(){function b(b,d,g){setTimeout(function(){a.progress(b,d,g)})}var a=this;return this.progressedCount=
0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(a){a.once("progress",b);a.check()}):void this.complete()},h.prototype.progress=function(b,a,d){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!b.isLoaded;this.emitEvent("progress",[this,b,a]);this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,b);this.progressedCount==this.images.length&&this.complete();this.options.debug&&e&&e.log("progress: "+d,b,a)},h.prototype.complete=function(){var b=this.hasAnyBroken?
"fail":"done";if(this.isComplete=!0,this.emitEvent(b,[this]),this.emitEvent("always",[this]),this.jqDeferred)this.jqDeferred[this.hasAnyBroken?"reject":"resolve"](this)},k.prototype=Object.create(c.prototype),k.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",
this),void(this.proxyImage.src=this.img.src))},k.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},k.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.img,a])},k.prototype.handleEvent=function(b){var a="on"+b.type;this[a]&&this[a](b)},k.prototype.onload=function(){this.confirm(!0,"onload");this.unbindEvents()},k.prototype.onerror=function(){this.confirm(!1,"onerror");this.unbindEvents()},k.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",
this);this.proxyImage.removeEventListener("error",this);this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)},b.prototype=Object.create(k.prototype),b.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},b.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",
this)},b.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.element,a])},h.makeJQueryPlugin=function(b){(b=b||a.jQuery)&&(d=b,d.fn.imagesLoaded=function(b,a){return(new h(this,b,a)).jqDeferred.promise(d(this))})},h.makeJQueryPlugin(),h});(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(jQuery)})(function(a){function c(c){var b=!1;return a('[data-notify="container"]').each(function(d,e){d=a(e);e=d.find('[data-notify="title"]').html().trim();var g=d.find('[data-notify="message"]').html().trim();e=e===a("<div>"+c.settings.content.title+"</div>").html().trim();g=g===a("<div>"+c.settings.content.message+"</div>").html().trim();d=d.hasClass("alert-"+c.settings.type);
return e&&g&&d&&(b=!0),!b}),b}function f(f,b,d){d=a.extend(!0,{},{content:{message:"object"==typeof b?b.message:b,title:b.title?b.title:"",icon:b.icon?b.icon:"",url:b.url?b.url:"#",target:b.target?b.target:"-"}},d);this.settings=a.extend(!0,{},h,d);this._defaults=h;"-"===this.settings.content.target&&(this.settings.content.target=this.settings.url_target);this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"};
"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset});!this.settings.allow_duplicates&&(this.settings.allow_duplicates||c(this))||this.init()}var h={element:"body",position:null,type:"info",allow_dismiss:!0,allow_duplicates:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5E3,timer:1E3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},
onShow:null,onShown:null,onClose:null,onClosed:null,onClick:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};
String.format=function(){var a=arguments;return arguments[0].replace(/(\{\{\d\}\}|\{\d\})/g,function(b){if("{{"===b.substring(0,2))return b;b=parseInt(b.match(/\d/)[0]);return a[b+1]})};a.extend(f.prototype,{init:function(){var a=this;this.buildNotify();this.settings.content.icon&&this.setIcon();"#"!=this.settings.content.url&&this.styleURL();this.styleDismiss();this.placement();this.bind();this.notify={$ele:this.$ele,update:function(b,d){var e={},g;for(g in"string"==typeof b?e[b]=d:e=b,e)switch(g){case "type":this.$ele.removeClass("alert-"+
a.settings.type);this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+a.settings.type);a.settings.type=e[g];this.$ele.addClass("alert-"+e[g]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+e[g]);break;case "icon":d=this.$ele.find('[data-notify="icon"]');"class"===a.settings.icon_type.toLowerCase()?d.removeClass(a.settings.content.icon).addClass(e[g]):(!d.is("img")&&d.find("img"),d.attr("src",e[g]));a.settings.content.icon=e[b];break;
case "progress":this.$ele.data("notify-delay",a.settings.delay-e[g]/100*a.settings.delay);this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",e[g]).css("width",e[g]+"%");break;case "url":this.$ele.find('[data-notify="url"]').attr("href",e[g]);break;case "target":this.$ele.find('[data-notify="url"]').attr("target",e[g]);break;default:this.$ele.find('[data-notify="'+g+'"]').html(e[g])}b=this.$ele.outerHeight()+parseInt(a.settings.spacing)+parseInt(a.settings.offset.y);a.reposition(b)},
close:function(){a.close()}}},buildNotify:function(){var c=this.settings.content;this.$ele=a(String.format(this.settings.template,this.settings.type,c.title,c.message,c.url,c.target));this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align);this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none");(!(0>=this.settings.delay)||this.settings.showProgressbar)&&this.settings.showProgressbar||this.$ele.find('[data-notify="progressbar"]').remove()},
setIcon:function(){"class"===this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+
2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var c=this,b=this.settings.offset.y,d={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",
zIndex:this.settings.z_index},e=!1,g=this.settings;switch(a('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){b=Math.max(b,parseInt(a(this).css(g.placement.from))+parseInt(a(this).outerHeight())+parseInt(g.spacing))}),!0===this.settings.newest_on_top&&(b=this.settings.offset.y),d[this.settings.placement.from]=b+"px",this.settings.placement.align){case "left":case "right":d[this.settings.placement.align]=this.settings.offset.x+
"px";break;case "center":d.left=0,d.right=0}this.$ele.css(d).addClass(this.settings.animate.enter);a.each(["webkit-","moz-","o-","ms-",""],function(b,a){c.$ele[0].style[a+"AnimationIterationCount"]=1});a(this.settings.element).append(this.$ele);!0===this.settings.newest_on_top&&(b=parseInt(b)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(b));a.isFunction(c.settings.onShow)&&c.settings.onShow.call(this.$ele);this.$ele.one(this.animations.start,function(){e=!0}).one(this.animations.end,
function(){c.$ele.removeClass(c.settings.animate.enter);a.isFunction(c.settings.onShown)&&c.settings.onShown.call(this)});setTimeout(function(){!e&&a.isFunction(c.settings.onShown)&&c.settings.onShown.call(this)},600)},bind:function(){var c=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){c.close()}),a.isFunction(c.settings.onClick)&&this.$ele.on("click",function(b){b.target!=c.$ele.find('[data-notify="dismiss"]')[0]&&c.settings.onClick.call(this,b)}),this.$ele.mouseover(function(){a(this).data("data-hover",
"true")}).mouseout(function(){a(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),0<this.settings.delay){c.$ele.data("notify-delay",c.settings.delay);var b=setInterval(function(){var a=parseInt(c.$ele.data("notify-delay"))-c.settings.timer;if("false"===c.$ele.data("data-hover")&&"pause"===c.settings.mouse_over||"pause"!=c.settings.mouse_over){var e=(c.settings.delay-a)/c.settings.delay*100;c.$ele.data("notify-delay",a);c.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",
e).css("width",e+"%")}a<=-c.settings.timer&&(clearInterval(b),c.close())},c.settings.timer)}},close:function(){var c=this,b=parseInt(this.$ele.css(this.settings.placement.from)),d=!1;this.$ele.attr("data-closing","true").addClass(this.settings.animate.exit);c.reposition(b);a.isFunction(c.settings.onClose)&&c.settings.onClose.call(this.$ele);this.$ele.one(this.animations.start,function(){d=!0}).one(this.animations.end,function(){a(this).remove();a.isFunction(c.settings.onClosed)&&c.settings.onClosed.call(this)});
setTimeout(function(){d||(c.$ele.remove(),a.isFunction(c.settings.onClosed)&&c.settings.onClosed.call(this))},600)},reposition:function(c){var b=this,d='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',e=this.$ele.nextAll(d);!0===this.settings.newest_on_top&&(e=this.$ele.prevAll(d));e.each(function(){a(this).css(b.settings.placement.from,c);c=parseInt(c)+parseInt(b.settings.spacing)+a(this).outerHeight()})}});a.notify=function(a,
b){return(new f(this,a,b)).notify};a.notifyDefaults=function(c){return h=a.extend(!0,{},h,c),h};a.notifyClose=function(c){"undefined"==typeof c||"all"===c?a("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):"success"===c||"info"===c||"warning"===c||"danger"===c?a(".alert-"+c+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):c?a(c+"[data-notify]").find('[data-notify="dismiss"]').trigger("click"):a('[data-notify-position="'+c+'"]').find('[data-notify="dismiss"]').trigger("click")};
a.notifyCloseExcept=function(c){"success"===c||"info"===c||"warning"===c||"danger"===c?a("[data-notify]").not(".alert-"+c).find('[data-notify="dismiss"]').trigger("click"):a("[data-notify]").not(c).find('[data-notify="dismiss"]').trigger("click")}});/*
 jQuery UI - v1.12.1 - 2018-05-06
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/resizable.js, widgets/selectable.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/dialog.js, widgets/mouse.js, widgets/tooltip.js, effect.js, effects/effect-fade.js
 Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){a.ui=a.ui||{};a.ui.version="1.12.1";var c=0,f=Array.prototype.slice;a.cleanData=function(b){return function(d){var e,g,c;for(c=0;null!=(g=d[c]);c++)try{(e=a._data(g,"events"))&&e.remove&&a(g).triggerHandler("remove")}catch(n){}b(d)}}(a.cleanData);a.widget=function(b,d,e){var g,c,f,q={},l=b.split(".")[0];b=b.split(".")[1];var h=l+"-"+b;return e||(e=d,d=a.Widget),a.isArray(e)&&(e=a.extend.apply(null,[{}].concat(e))),
a.expr[":"][h.toLowerCase()]=function(b){return!!a.data(b,h)},a[l]=a[l]||{},g=a[l][b],c=a[l][b]=function(b,a){return this._createWidget?(arguments.length&&this._createWidget(b,a),void 0):new c(b,a)},a.extend(c,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),f=new d,f.options=a.widget.extend({},f.options),a.each(e,function(b,g){return a.isFunction(g)?(q[b]=function(){function a(){return d.prototype[b].apply(this,arguments)}function e(a){return d.prototype[b].apply(this,a)}return function(){var b,
d=this._super,c=this._superApply;return this._super=a,this._superApply=e,b=g.apply(this,arguments),this._super=d,this._superApply=c,b}}(),void 0):(q[b]=g,void 0)}),c.prototype=a.widget.extend(f,{widgetEventPrefix:g?f.widgetEventPrefix||b:b},q,{constructor:c,namespace:l,widgetName:b,widgetFullName:h}),g?(a.each(g._childConstructors,function(b,d){b=d.prototype;a.widget(b.namespace+"."+b.widgetName,c,d._proto)}),delete g._childConstructors):d._childConstructors.push(c),a.widget.bridge(b,c),c};a.widget.extend=
function(b){for(var d,e,g=f.call(arguments,1),c=0,n=g.length;n>c;c++)for(d in g[c])e=g[c][d],g[c].hasOwnProperty(d)&&void 0!==e&&(b[d]=a.isPlainObject(e)?a.isPlainObject(b[d])?a.widget.extend({},b[d],e):a.widget.extend({},e):e);return b};a.widget.bridge=function(b,d){var e=d.prototype.widgetFullName||b;a.fn[b]=function(g){var c="string"==typeof g,n=f.call(arguments,1),q=this;return c?this.length||"instance"!==g?this.each(function(){var d,c=a.data(this,e);return"instance"===g?(q=c,!1):c?a.isFunction(c[g])&&
"_"!==g.charAt(0)?(d=c[g].apply(c,n),d!==c&&void 0!==d?(q=d&&d.jquery?q.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+b+" widget instance"):a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+g+"'")}):q=void 0:(n.length&&(g=a.widget.extend.apply(null,[g].concat(n))),this.each(function(){var b=a.data(this,e);b?(b.option(g||{}),b._init&&b._init()):a.data(this,e,new d(g,this))})),q}};a.Widget=function(){};a.Widget._childConstructors=[];
a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=a();this.hoverable=a();this.focusable=a();this.classesElementLookup={};d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(b){b.target===d&&this.destroy()}}),this.document=a(d.style?
d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy();a.each(this.classesElementLookup,
function(a,e){b._removeClass(e,a)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,d){var e,g,c=b;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof b)if(c={},e=b.split("."),b=e.shift(),e.length){var f=c[b]=a.widget.extend({},this.options[b]);for(g=0;e.length-1>g;g++)f[e[g]]=
f[e[g]]||{},f=f[e[g]];if(b=e.pop(),1===arguments.length)return void 0===f[b]?null:f[b];f[b]=d}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];c[b]=d}return this._setOptions(c),this},_setOptions:function(b){for(var a in b)this._setOption(a,b[a]);return this},_setOption:function(b,a){return"classes"===b&&this._setOptionClasses(a),this.options[b]=a,"disabled"===b&&this._setOptionDisabled(a),this},_setOptionClasses:function(b){var d,e;for(d in b){var g=this.classesElementLookup[d];
b[d]!==this.options.classes[d]&&g&&g.length&&(e=a(g.get()),this._removeClass(g,d),e.addClass(this._classes({element:e,keys:d,classes:b,add:!0})))}},_setOptionDisabled:function(b){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!b);b&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function d(d,
c){var m;for(m=0;d.length>m;m++){var f=g.classesElementLookup[d[m]]||a();f=b.add?a(a.unique(f.get().concat(b.element.get()))):a(f.not(b.element).get());g.classesElementLookup[d[m]]=f;e.push(d[m]);c&&b.classes[d[m]]&&e.push(b.classes[d[m]])}}var e=[],g=this;return b=a.extend({element:this.element,classes:this.options.classes||{}},b),this._on(b.element,{remove:"_untrackClassesElement"}),b.keys&&d(b.keys.match(/\S+/g)||[],!0),b.extra&&d(b.extra.match(/\S+/g)||[]),e.join(" ")},_untrackClassesElement:function(b){var d=
this;a.each(d.classesElementLookup,function(e,g){-1!==a.inArray(b.target,g)&&(d.classesElementLookup[e]=a(g.not(b.target).get()))})},_removeClass:function(b,a,e){return this._toggleClass(b,a,e,!1)},_addClass:function(b,a,e){return this._toggleClass(b,a,e,!0)},_toggleClass:function(b,a,e,g){g="boolean"==typeof g?g:e;var d="string"==typeof b||null===b;b={extra:d?a:e,keys:d?b:a,element:d?this.element:b,add:g};return b.element.toggleClass(this._classes(b),g),this},_on:function(b,d,e){var g,c=this;"boolean"!=
typeof b&&(e=d,d=b,b=!1);e?(d=g=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,g=this.widget());a.each(e,function(e,m){function f(){return b||!0!==c.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof m?c[m]:m).apply(c,arguments):void 0}"string"!=typeof m&&(f.guid=m.guid=m.guid||f.guid||a.guid++);var n=e.match(/^([\w:-]*)\s*(.*)$/);e=n[1]+c.eventNamespace;(n=n[2])?g.on(e,n,f):d.on(e,f)})},_off:function(b,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;
b.off(d).off(d);this.bindings=a(this.bindings.not(b).get());this.focusable=a(this.focusable.not(b).get());this.hoverable=a(this.hoverable.not(b).get())},_delay:function(b,a){var d=this;return setTimeout(function(){return("string"==typeof b?d[b]:b).apply(d,arguments)},a||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},
_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},_trigger:function(b,d,e){var g,c=this.options[b];if(e=e||{},d=a.Event(d),d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),d.target=this.element[0],b=d.originalEvent)for(g in b)g in d||(d[g]=b[g]);return this.element.trigger(d,e),!(a.isFunction(c)&&
!1===c.apply(this.element[0],[d].concat(e))||d.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,d){a.Widget.prototype["_"+b]=function(e,g,c){"string"==typeof g&&(g={effect:g});var m=g?!0===g||"number"==typeof g?d:g.effect||d:b;g=g||{};"number"==typeof g&&(g={duration:g});var f=!a.isEmptyObject(g);g.complete=c;g.delay&&e.delay(g.delay);f&&a.effects&&a.effects.effect[m]?e[b](g):m!==b&&e[m]?e[m](g.duration,g.easing,c):e.queue(function(d){a(this)[b]();c&&c.call(e[0]);d()})}});
a.widget;(function(){function b(b,a,d){return[parseFloat(b[0])*(k.test(b[0])?a/100:1),parseFloat(b[1])*(k.test(b[1])?d/100:1)]}function d(b){var d=b[0];return 9===d.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(d)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}var e,g=Math.max,c=Math.abs,f=/left|center|right/,
h=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,k=/%$/,w=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==e)return e;var b,d,g=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),c=g.children()[0];return a("body").append(g),b=c.offsetWidth,g.css("overflow","scroll"),d=c.offsetWidth,b===d&&(d=g[0].clientWidth),g.remove(),e=b-d},getScrollInfo:function(b){var d=b.isWindow||b.isDocument?"":
b.element.css("overflow-x"),g=b.isWindow||b.isDocument?"":b.element.css("overflow-y");d="scroll"===d||"auto"===d&&b.width<b.element[0].scrollWidth;return{width:"scroll"===g||"auto"===g&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:d?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var d=a(b||window),g=a.isWindow(d[0]),e=!!d[0]&&9===d[0].nodeType;return{element:d,isWindow:g,isDocument:e,offset:g||e?{left:0,top:0}:a(b).offset(),scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),
width:d.outerWidth(),height:d.outerHeight()}}};a.fn.position=function(e){if(!e||!e.of)return w.apply(this,arguments);e=a.extend({},e);var m,n,z,q,v,k,B=a(e.of),x=a.position.getWithinInfo(e.within),t=a.position.getScrollInfo(x),C=(e.collision||"flip").split(" "),E={};return k=d(B),B[0].preventDefault&&(e.at="left top"),n=k.width,z=k.height,q=k.offset,v=a.extend({},q),a.each(["my","at"],function(){var b=(e[this]||"").split(" ");1===b.length&&(b=f.test(b[0])?b.concat(["center"]):h.test(b[0])?["center"].concat(b):
["center","center"]);b[0]=f.test(b[0])?b[0]:"center";b[1]=h.test(b[1])?b[1]:"center";var a=l.exec(b[0]);var d=l.exec(b[1]);E[this]=[a?a[0]:0,d?d[0]:0];e[this]=[p.exec(b[0])[0],p.exec(b[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===e.at[0]?v.left+=n:"center"===e.at[0]&&(v.left+=n/2),"bottom"===e.at[1]?v.top+=z:"center"===e.at[1]&&(v.top+=z/2),m=b(E.at,n,z),v.left+=m[0],v.top+=m[1],this.each(function(){var d,f=a(this),h=f.outerWidth(),l=f.outerHeight(),p=parseInt(a.css(this,"marginLeft"),10)||0,k=parseInt(a.css(this,
"marginTop"),10)||0,A=h+p+(parseInt(a.css(this,"marginRight"),10)||0)+t.width,r=l+k+(parseInt(a.css(this,"marginBottom"),10)||0)+t.height,u=a.extend({},v),D=b(E.my,f.outerWidth(),f.outerHeight());"right"===e.my[0]?u.left-=h:"center"===e.my[0]&&(u.left-=h/2);"bottom"===e.my[1]?u.top-=l:"center"===e.my[1]&&(u.top-=l/2);u.left+=D[0];u.top+=D[1];var y={marginLeft:p,marginTop:k};a.each(["left","top"],function(b,d){a.ui.position[C[b]]&&a.ui.position[C[b]][d](u,{targetWidth:n,targetHeight:z,elemWidth:h,
elemHeight:l,collisionPosition:y,collisionWidth:A,collisionHeight:r,offset:[m[0]+D[0],m[1]+D[1]],my:e.my,at:e.at,within:x,elem:f})});e.using&&(d=function(b){var a=q.left-u.left,d=a+n-h,m=q.top-u.top,p=m+z-l,k={target:{element:B,left:q.left,top:q.top,width:n,height:z},element:{element:f,left:u.left,top:u.top,width:h,height:l},horizontal:0>d?"left":0<a?"right":"center",vertical:0>p?"top":0<m?"bottom":"middle"};h>n&&n>c(a+d)&&(k.horizontal="center");l>z&&z>c(m+p)&&(k.vertical="middle");k.important=g(c(a),
c(d))>g(c(m),c(p))?"horizontal":"vertical";e.using.call(this,b,k)});f.offset(a.extend(u,{using:d}))})};a.ui.position={fit:{left:function(b,a){var d,e=a.within,c=e.isWindow?e.scrollLeft:e.offset.left;e=e.width;var m=b.left-a.collisionPosition.marginLeft,f=c-m,n=m+a.collisionWidth-e-c;a.collisionWidth>e?0<f&&0>=n?(d=b.left+f+a.collisionWidth-e-c,b.left+=f-d):b.left=0<n&&0>=f?c:f>n?c+e-a.collisionWidth:c:0<f?b.left+=f:0<n?b.left-=n:b.left=g(b.left-m,b.left)},top:function(b,a){var d,e=a.within;e=e.isWindow?
e.scrollTop:e.offset.top;var c=a.within.height,m=b.top-a.collisionPosition.marginTop,f=e-m,n=m+a.collisionHeight-c-e;a.collisionHeight>c?0<f&&0>=n?(d=b.top+f+a.collisionHeight-c-e,b.top+=f-d):b.top=0<n&&0>=f?e:f>n?e+c-a.collisionHeight:e:0<f?b.top+=f:0<n?b.top-=n:b.top=g(b.top-m,b.top)}},flip:{left:function(b,a){var d,e,g=a.within,m=g.offset.left+g.scrollLeft,f=g.width;g=g.isWindow?g.scrollLeft:g.offset.left;var n=b.left-a.collisionPosition.marginLeft,h=n-g;n=n+a.collisionWidth-f-g;var l="left"===
a.my[0]?-a.elemWidth:"right"===a.my[0]?a.elemWidth:0,q="left"===a.at[0]?a.targetWidth:"right"===a.at[0]?-a.targetWidth:0,p=-2*a.offset[0];0>h?(d=b.left+l+q+p+a.collisionWidth-f-m,(0>d||c(h)>d)&&(b.left+=l+q+p)):0<n&&(e=b.left-a.collisionPosition.marginLeft+l+q+p-g,(0<e||n>c(e))&&(b.left+=l+q+p))},top:function(b,a){var d,e,g=a.within,m=g.offset.top+g.scrollTop,f=g.height;g=g.isWindow?g.scrollTop:g.offset.top;var n=b.top-a.collisionPosition.marginTop,h=n-g;n=n+a.collisionHeight-f-g;var l="top"===a.my[1]?
-a.elemHeight:"bottom"===a.my[1]?a.elemHeight:0,q="top"===a.at[1]?a.targetHeight:"bottom"===a.at[1]?-a.targetHeight:0,p=-2*a.offset[1];0>h?(e=b.top+l+q+p+a.collisionHeight-f-m,(0>e||c(h)>e)&&(b.top+=l+q+p)):0<n&&(d=b.top-a.collisionPosition.marginTop+l+q+p-g,(0<d||n>c(d))&&(b.top+=l+q+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,
arguments)}}}})();a.ui.position;a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(d){return!!a.data(d,b)}}):function(b,d,e){return!!a.data(b,e[3])}});a.fn.extend({disableSelection:function(){var b="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(b+".ui-disableSelection",function(b){b.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});a.ui.focusable=function(b,
d){var e,g,c,f,h,l=b.nodeName.toLowerCase();if("area"===l)b=(e=b.parentNode,g=e.name,b.href&&g&&"map"===e.nodeName.toLowerCase()?(c=a("img[usemap='#"+g+"']"),0<c.length&&c.is(":visible")):!1);else{/^(input|select|textarea|button|object)$/.test(l)?(f=!b.disabled,f&&(h=a(b).closest("fieldset")[0],h&&(f=!h.disabled))):f="a"===l?b.href||d:d;if(e=f&&a(b).is(":visible")){b=a(b);for(e=b.css("visibility");"inherit"===e;)b=b.parent(),e=b.css("visibility");e="hidden"!==e}b=e}return b};a.extend(a.expr[":"],
{focusable:function(b){return a.ui.focusable(b,null!=a.attr(b,"tabindex"))}});a.ui.focusable;a.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):a(this[0].form)};a.ui.formResetMixin={_formResetHandler:function(){var b=a(this);setTimeout(function(){var d=b.data("ui-form-reset-instances");a.each(d,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var b=this.form.data("ui-form-reset-instances")||[];b.length||this.form.on("reset.ui-form-reset",
this._formResetHandler);b.push(this);this.form.data("ui-form-reset-instances",b)}},_unbindFormResetHandler:function(){if(this.form.length){var b=this.form.data("ui-form-reset-instances");b.splice(a.inArray(this,b),1);b.length?this.form.data("ui-form-reset-instances",b):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===a.fn.jquery.substring(0,3)&&(a.each(["Width","Height"],function(b,d){function e(b,d,e,c){return a.each(g,function(){d-=parseFloat(a.css(b,"padding"+
this))||0;e&&(d-=parseFloat(a.css(b,"border"+this+"Width"))||0);c&&(d-=parseFloat(a.css(b,"margin"+this))||0)}),d}var g="Width"===d?["Left","Right"]:["Top","Bottom"],c=d.toLowerCase(),f={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(b){return void 0===b?f["inner"+d].call(this):this.each(function(){a(this).css(c,e(this,b)+"px")})};a.fn["outer"+d]=function(b,g){return"number"!=typeof b?f["outer"+d].call(this,
b):this.each(function(){a(this).css(c,e(this,b,!0,g)+"px")})}}),a.fn.addBack=function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))});a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};a.ui.escapeSelector=function(){var b=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(a){return a.replace(b,"\\$1")}}();a.fn.labels=function(){var b,d,e,g,c;return this[0].labels&&
this[0].labels.length?this.pushStack(this[0].labels):(g=this.eq(0).parents("label"),e=this.attr("id"),e&&(b=this.eq(0).parents().last(),c=b.add(b.length?b.siblings():this.siblings()),d="label[for='"+a.ui.escapeSelector(e)+"']",g=g.add(c.find(d).addBack(d))),this.pushStack(g))};a.fn.scrollParent=function(b){var d=this.css("position"),e="absolute"===d,g=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=a(this);return e&&"static"===b.css("position")?!1:g.test(b.css("overflow")+
b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==d&&b.length?b:a(this[0].ownerDocument||document)};a.extend(a.expr[":"],{tabbable:function(b){var d=a.attr(b,"tabindex"),e=null!=d;return(!e||0<=d)&&a.ui.focusable(b,e)}});a.fn.extend({uniqueId:function(){var b=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++b)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}});a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
var h=!1;a(document).on("mouseup",function(){h=!1});a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).on("click."+this.widgetName,function(d){return!0===a.data(d.target,b.widgetName+".preventClickEvent")?(a.removeData(d.target,b.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):void 0});this.started=!1},
_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!h){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var d=this,e=1===b.which,g="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return e&&!g&&this._mouseCapture(b)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(b){return d._mouseMove(b)},this._mouseUpDelegate=function(b){return d._mouseUp(b)},
this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button)return this._mouseUp(b);if(!b.which)if(b.originalEvent.altKey||b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}return(b.which||
b.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&
a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);h=this.ignoreMissingWhich=!1;b.preventDefault()},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},
_mouseCapture:function(){return!0}});a.ui.plugin={add:function(b,d,e){var g;b=a.ui[b].prototype;for(g in e)b.plugins[g]=b.plugins[g]||[],b.plugins[g].push([d,e[g]])},call:function(b,a,e,g){if((a=b.plugins[a])&&(g||b.element[0].parentNode&&11!==b.element[0].parentNode.nodeType))for(g=0;a.length>g;g++)b.options[a[g][0]]&&a[g][1].apply(b.element,e)}};a.ui.safeActiveElement=function(b){try{var a=b.activeElement}catch(e){a=b.body}return a||(a=b.body),a.nodeName||(a=b.body),a};a.ui.safeBlur=function(b){b&&
"body"!==b.nodeName.toLowerCase()&&a(b).trigger("blur")};a.widget("ui.draggable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},
_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(b,a){this._super(b,a);"handle"===b&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(b){var d=
this.options;return this.helper||d.disabled||0<a(b.target).closest(".ui-resizable-handle").length?!1:(this.handle=this._getHandle(b),this.handle?(this._blurActiveElement(b),this._blockFrames(!0===d.iframeFix?"iframe":d.iframeFix),!0):!1)},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&
(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var d=a.ui.safeActiveElement(this.document[0]);a(b.target).closest(d).length||a.ui.safeBlur(d)},_mouseStart:function(b){var d=this.options;return this.helper=this._createHelper(b),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),
this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(b),this.originalPosition=this.position=this._generatePosition(b,!1),this.originalPageX=b.pageX,this.originalPageY=b.pageY,d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt),this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&
!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_refreshOffsets:function(b){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:b.pageX-this.offset.left,top:b.pageY-this.offset.top}},_mouseDrag:function(b,d){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),
this.position=this._generatePosition(b,!0),this.positionAbs=this._convertPositionTo("absolute"),!d){d=this._uiHash();if(!1===this._trigger("drag",b,d))return this._mouseUp(new a.Event("mouseup",b)),!1;this.position=d.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var d=this,e=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(e=a.ui.ddmanager.drop(this,b)),
this.dropped&&(e=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!e||"valid"===this.options.revert&&e||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",b)&&d._clear()}):!1!==this._trigger("stop",b)&&this._clear(),!1},_mouseUp:function(b){return this._unblockFrames(),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),
this.handleElement.is(b.target)&&this.element.trigger("focus"),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new a.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;
this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(b){var d=this.options,e=a.isFunction(d.helper);b=e?a(d.helper.apply(this.element[0],[b])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo),e&&b[0]===this.element[0]&&this._setPositionRelative(),b[0]===
this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&
(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(b){return/(html|body)/i.test(b.tagName)||b===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),d=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==d&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),
this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var b=this.element.position(),a=this._isRootNode(this.scrollParent[0]);return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+(a?0:this.scrollParent.scrollTop()),left:b.left-(parseInt(this.helper.css("left"),10)||
0)+(a?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,d,e,g=this.options,c=this.document[0];return this.relativeContainer=
null,g.containment?"window"===g.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===g.containment?(this.containment=[0,0,a(c).width()-this.helperProportions.width-
this.margins.left,(a(c).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):g.containment.constructor===Array?(this.containment=g.containment,void 0):("parent"===g.containment&&(g.containment=this.helper[0].parentNode),d=a(g.containment),e=d[0],e&&(b=/(scroll|auto)/.test(d.css("overflow")),this.containment=[(parseInt(d.css("borderLeftWidth"),10)||0)+(parseInt(d.css("paddingLeft"),10)||0),(parseInt(d.css("borderTopWidth"),10)||0)+(parseInt(d.css("paddingTop"),
10)||0),(b?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(d.css("borderRightWidth"),10)||0)-(parseInt(d.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(d.css("borderBottomWidth"),10)||0)-(parseInt(d.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=d),void 0):(this.containment=null,void 0)},_convertPositionTo:function(b,
a){a||(a=this.position);b="absolute"===b?1:-1;var d=this._isRootNode(this.scrollParent[0]);return{top:a.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.offset.scroll.top:d?0:this.offset.scroll.top)*b,left:a.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.offset.scroll.left:d?0:this.offset.scroll.left)*b}},_generatePosition:function(b,a){var d,g,c,f,h=this.options,l=this._isRootNode(this.scrollParent[0]),p=b.pageX,
k=b.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),a&&(this.containment&&(this.relativeContainer?(g=this.relativeContainer.offset(),d=[this.containment[0]+g.left,this.containment[1]+g.top,this.containment[2]+g.left,this.containment[3]+g.top]):d=this.containment,b.pageX-this.offset.click.left<d[0]&&(p=d[0]+this.offset.click.left),b.pageY-this.offset.click.top<d[1]&&(k=d[1]+this.offset.click.top),b.pageX-this.offset.click.left>
d[2]&&(p=d[2]+this.offset.click.left),b.pageY-this.offset.click.top>d[3]&&(k=d[3]+this.offset.click.top)),h.grid&&(c=h.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/h.grid[1])*h.grid[1]:this.originalPageY,k=d?c-this.offset.click.top>=d[1]||c-this.offset.click.top>d[3]?c:c-this.offset.click.top>=d[1]?c-h.grid[1]:c+h.grid[1]:c,f=h.grid[0]?this.originalPageX+Math.round((p-this.originalPageX)/h.grid[0])*h.grid[0]:this.originalPageX,p=d?f-this.offset.click.left>=d[0]||f-this.offset.click.left>
d[2]?f:f-this.offset.click.left>=d[0]?f-h.grid[0]:f+h.grid[0]:f),"y"===h.axis&&(p=this.originalPageX),"x"===h.axis&&(k=this.originalPageY)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:p-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,
"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(b,d,e){return e=e||this._uiHash(),a.ui.plugin.call(this,b,[d,e,this],!0),/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),e.offset=this.positionAbs),a.Widget.prototype._trigger.call(this,b,d,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,
originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,d,e){var g=a.extend({},d,{item:e.element});e.sortables=[];a(e.options.connectToSortable).each(function(){var d=a(this).sortable("instance");d&&!d.options.disabled&&(e.sortables.push(d),d.refreshPositions(),d._trigger("activate",b,g))})},stop:function(b,d,e){var g=a.extend({},d,{item:e.element});e.cancelHelperRemoval=!1;a.each(e.sortables,function(){this.isOver?(this.isOver=
0,e.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(b),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",b,g))})},drag:function(b,d,e){a.each(e.sortables,function(){var g=!1,c=this;c.positionAbs=e.positionAbs;c.helperProportions=e.helperProportions;c.offset.click=e.offset.click;c._intersectsWith(c.containerCache)&&
(g=!0,a.each(e.sortables,function(){return this.positionAbs=e.positionAbs,this.helperProportions=e.helperProportions,this.offset.click=e.offset.click,this!==c&&this._intersectsWith(this.containerCache)&&a.contains(c.element[0],this.element[0])&&(g=!1),g}));g?(c.isOver||(c.isOver=1,e._parent=d.helper.parent(),c.currentItem=d.helper.appendTo(c.element).data("ui-sortable-item",!0),c.options._helper=c.options.helper,c.options.helper=function(){return d.helper[0]},b.target=c.currentItem[0],c._mouseCapture(b,
!0),c._mouseStart(b,!0,!0),c.offset.click.top=e.offset.click.top,c.offset.click.left=e.offset.click.left,c.offset.parent.left-=e.offset.parent.left-c.offset.parent.left,c.offset.parent.top-=e.offset.parent.top-c.offset.parent.top,e._trigger("toSortable",b),e.dropped=c.element,a.each(e.sortables,function(){this.refreshPositions()}),e.currentItem=e.element,c.fromOutside=e),c.currentItem&&(c._mouseDrag(b),d.position=c.position)):c.isOver&&(c.isOver=0,c.cancelHelperRemoval=!0,c.options._revert=c.options.revert,
c.options.revert=!1,c._trigger("out",b,c._uiHash(c)),c._mouseStop(b,!0),c.options.revert=c.options._revert,c.options.helper=c.options._helper,c.placeholder&&c.placeholder.remove(),d.helper.appendTo(e._parent),e._refreshOffsets(b),d.position=e._generatePosition(b,!0),e._trigger("fromSortable",b),e.dropped=!1,a.each(e.sortables,function(){this.refreshPositions()}))})}});a.ui.plugin.add("draggable","cursor",{start:function(b,d,e){b=a("body");e=e.options;b.css("cursor")&&(e._cursor=b.css("cursor"));b.css("cursor",
e.cursor)},stop:function(b,d,e){b=e.options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,d,e){b=a(d.helper);e=e.options;b.css("opacity")&&(e._opacity=b.css("opacity"));b.css("opacity",e.opacity)},stop:function(b,d,e){b=e.options;b._opacity&&a(d.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(b,a,e){e.scrollParentNotHidden||(e.scrollParentNotHidden=e.helper.scrollParent(!1));e.scrollParentNotHidden[0]!==
e.document[0]&&"HTML"!==e.scrollParentNotHidden[0].tagName&&(e.overflowOffset=e.scrollParentNotHidden.offset())},drag:function(b,d,e){d=e.options;var g=!1,c=e.scrollParentNotHidden[0],f=e.document[0];c!==f&&"HTML"!==c.tagName?(d.axis&&"x"===d.axis||(e.overflowOffset.top+c.offsetHeight-b.pageY<d.scrollSensitivity?c.scrollTop=g=c.scrollTop+d.scrollSpeed:b.pageY-e.overflowOffset.top<d.scrollSensitivity&&(c.scrollTop=g=c.scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(e.overflowOffset.left+c.offsetWidth-
b.pageX<d.scrollSensitivity?c.scrollLeft=g=c.scrollLeft+d.scrollSpeed:b.pageX-e.overflowOffset.left<d.scrollSensitivity&&(c.scrollLeft=g=c.scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(f).scrollTop()<d.scrollSensitivity?g=a(f).scrollTop(a(f).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(f).scrollTop())<d.scrollSensitivity&&(g=a(f).scrollTop(a(f).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(f).scrollLeft()<d.scrollSensitivity?g=a(f).scrollLeft(a(f).scrollLeft()-
d.scrollSpeed):a(window).width()-(b.pageX-a(f).scrollLeft())<d.scrollSensitivity&&(g=a(f).scrollLeft(a(f).scrollLeft()+d.scrollSpeed))));!1!==g&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(e,b)}});a.ui.plugin.add("draggable","snap",{start:function(b,d,e){b=e.options;e.snapElements=[];a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var b=a(this),d=b.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
top:d.top,left:d.left})})},drag:function(b,d,e){var g,c,f,h,l,p,k=e.options,w=k.snapTolerance,x=d.offset.left,r=x+e.helperProportions.width,y=d.offset.top,z=y+e.helperProportions.height;for(l=e.snapElements.length-1;0<=l;l--){var A=e.snapElements[l].left-e.margins.left;var v=A+e.snapElements[l].width;var u=e.snapElements[l].top-e.margins.top;var B=u+e.snapElements[l].height;A-w>r||x>v+w||u-w>z||y>B+w||!a.contains(e.snapElements[l].item.ownerDocument,e.snapElements[l].item)?(e.snapElements[l].snapping&&
e.options.snap.release&&e.options.snap.release.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=!1):("inner"!==k.snapMode&&(g=w>=Math.abs(u-z),c=w>=Math.abs(B-y),f=w>=Math.abs(A-r),h=w>=Math.abs(v-x),g&&(d.position.top=e._convertPositionTo("relative",{top:u-e.helperProportions.height,left:0}).top),c&&(d.position.top=e._convertPositionTo("relative",{top:B,left:0}).top),f&&(d.position.left=e._convertPositionTo("relative",{top:0,left:A-e.helperProportions.width}).left),
h&&(d.position.left=e._convertPositionTo("relative",{top:0,left:v}).left)),p=g||c||f||h,"outer"!==k.snapMode&&(g=w>=Math.abs(u-y),c=w>=Math.abs(B-z),f=w>=Math.abs(A-x),h=w>=Math.abs(v-r),g&&(d.position.top=e._convertPositionTo("relative",{top:u,left:0}).top),c&&(d.position.top=e._convertPositionTo("relative",{top:B-e.helperProportions.height,left:0}).top),f&&(d.position.left=e._convertPositionTo("relative",{top:0,left:A}).left),h&&(d.position.left=e._convertPositionTo("relative",{top:0,left:v-e.helperProportions.width}).left)),
!e.snapElements[l].snapping&&(g||c||f||h||p)&&e.options.snap.snap&&e.options.snap.snap.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[l].item})),e.snapElements[l].snapping=g||c||f||h||p)}}});a.ui.plugin.add("draggable","stack",{start:function(b,d,e){var g;b=a.makeArray(a(e.options.stack)).sort(function(b,d){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(d).css("zIndex"),10)||0)});b.length&&(g=parseInt(a(b[0]).css("zIndex"),10)||0,a(b).each(function(b){a(this).css("zIndex",
g+b)}),this.css("zIndex",g+b.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(b,d,e){b=a(d.helper);e=e.options;b.css("zIndex")&&(e._zIndex=b.css("zIndex"));b.css("zIndex",e.zIndex)},stop:function(b,d,e){b=e.options;b._zIndex&&a(d.helper).css("zIndex",b._zIndex)}});a.ui.draggable;a.widget("ui.resizable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},
containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(b){return parseFloat(b)||0},_isNumber:function(b){return!isNaN(parseFloat(b))},_hasScroll:function(b,d){if("hidden"===a(b).css("overflow"))return!1;d=d&&"left"===d?"scrollLeft":"scrollTop";var e=!1;return 0<b[d]?!0:(b[d]=1,e=0<b[d],b[d]=0,e)},_create:function(){var b,d=this.options,e=this;this._addClass("ui-resizable");a.extend(this,
{_aspectRatio:!!d.aspectRatio,aspectRatio:d.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:d.helper||d.ghost||d.animate?d.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),
this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,b={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(b),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"})),this.originalElement.css(b),this._proportionallyResize());this._setupHandles();d.autoHide&&a(this.element).on("mouseenter",function(){d.disabled||(e._removeClass("ui-resizable-autohide"),e._handles.show())}).on("mouseleave",function(){d.disabled||e.resizing||(e._addClass("ui-resizable-autohide"),e._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,d=function(b){a(b).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};
return this.elementIsWrapper&&(d(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),d(this.originalElement),this},_setOption:function(b,a){switch(this._super(b,a),b){case "handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var b,d=this.options,e=this;if(this.handles=d.handles||
(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=a(),this.handles.constructor===String){"all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var g=this.handles.split(",");this.handles={};for(b=0;g.length>b;b++){var c=a.trim(g[b]);var f="ui-resizable-"+c;var h=a("<div>");this._addClass(h,"ui-resizable-handle "+
f);h.css({zIndex:d.zIndex});this.handles[c]=".ui-resizable-"+c;this.element.append(h)}}this._renderAxis=function(b){var d,g,c,f;b=b||this.element;for(d in this.handles)this.handles[d].constructor===String?this.handles[d]=this.element.children(this.handles[d]).first().show():(this.handles[d].jquery||this.handles[d].nodeType)&&(this.handles[d]=a(this.handles[d]),this._on(this.handles[d],{mousedown:e._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&
(g=a(this.handles[d],this.element),f=/sw|ne|nw|se|n|s/.test(d)?g.outerHeight():g.outerWidth(),c=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join(""),b.css(c,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[d])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){e.resizing||(this.className&&(h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
e.axis=h&&h[1]?h[1]:"se")});d.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(b){var d,e=!1;for(d in this.handles){var g=a(this.handles[d])[0];(g===b.target||a.contains(g,b.target))&&(e=!0)}return!this.options.disabled&&e},_mouseStart:function(b){var d,e,g,c=this.options,f=this.element;return this.resizing=!0,this._renderProxy(),d=this._num(this.helper.css("left")),e=this._num(this.helper.css("top")),
c.containment&&(d+=a(c.containment).scrollLeft()||0,e+=a(c.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalPosition={left:d,top:e},this.originalMousePosition=
{left:b.pageX,top:b.pageY},this.aspectRatio="number"==typeof c.aspectRatio?c.aspectRatio:this.originalSize.width/this.originalSize.height||1,g=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===g?this.axis+"-resize":g),this._addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var d,e,g=this.originalMousePosition,c=b.pageX-g.left||0;g=b.pageY-g.top||0;var f=this._change[this.axis];return this._updatePrevProperties(),f?(d=f.apply(this,[b,
c,g]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(d=this._updateRatio(d,b)),d=this._respectSize(d,b),this._updateCache(d),this._propagate("resize",b),e=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(b){this.resizing=!1;var d,e,g,c,f,h,l,k=this.options;return this._helper&&
(d=this._proportionallyResizeElements,e=d.length&&/textarea/i.test(d[0].nodeName),g=e&&this._hasScroll(d[0],"left")?0:this.sizeDiff.height,c=e?0:this.sizeDiff.width,f={width:this.helper.width()-c,height:this.helper.height()-g},h=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,k.animate||this.element.css(a.extend(f,{top:l,left:h})),this.helper.height(this.size.height),
this.helper.width(this.size.width),this._helper&&!k.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var b={};return this.position.top!==this.prevPosition.top&&(b.top=this.position.top+
"px"),this.position.left!==this.prevPosition.left&&(b.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(b.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(b.height=this.size.height+"px"),this.helper.css(b),b},_updateVirtualBoundaries:function(b){var a,e,g,c;var f=this.options;f={minWidth:this._isNumber(f.minWidth)?f.minWidth:0,maxWidth:this._isNumber(f.maxWidth)?f.maxWidth:1/0,minHeight:this._isNumber(f.minHeight)?f.minHeight:0,maxHeight:this._isNumber(f.maxHeight)?
f.maxHeight:1/0};(this._aspectRatio||b)&&(a=f.minHeight*this.aspectRatio,g=f.minWidth/this.aspectRatio,e=f.maxHeight*this.aspectRatio,c=f.maxWidth/this.aspectRatio,a>f.minWidth&&(f.minWidth=a),g>f.minHeight&&(f.minHeight=g),f.maxWidth>e&&(f.maxWidth=e),f.maxHeight>c&&(f.maxHeight=c));this._vBoundaries=f},_updateCache:function(b){this.offset=this.helper.offset();this._isNumber(b.left)&&(this.position.left=b.left);this._isNumber(b.top)&&(this.position.top=b.top);this._isNumber(b.height)&&(this.size.height=
b.height);this._isNumber(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var a=this.position,e=this.size,g=this.axis;return this._isNumber(b.height)?b.width=b.height*this.aspectRatio:this._isNumber(b.width)&&(b.height=b.width/this.aspectRatio),"sw"===g&&(b.left=a.left+(e.width-b.width),b.top=null),"nw"===g&&(b.top=a.top+(e.height-b.height),b.left=a.left+(e.width-b.width)),b},_respectSize:function(b){var a=this._vBoundaries,e=this.axis,g=this._isNumber(b.width)&&a.maxWidth&&a.maxWidth<
b.width,c=this._isNumber(b.height)&&a.maxHeight&&a.maxHeight<b.height,f=this._isNumber(b.width)&&a.minWidth&&a.minWidth>b.width,h=this._isNumber(b.height)&&a.minHeight&&a.minHeight>b.height,l=this.originalPosition.left+this.originalSize.width,k=this.originalPosition.top+this.originalSize.height,t=/sw|nw|w/.test(e);e=/nw|ne|n/.test(e);return f&&(b.width=a.minWidth),h&&(b.height=a.minHeight),g&&(b.width=a.maxWidth),c&&(b.height=a.maxHeight),f&&t&&(b.left=l-a.minWidth),g&&t&&(b.left=l-a.maxWidth),h&&
e&&(b.top=k-a.minHeight),c&&e&&(b.top=k-a.maxHeight),b.width||b.height||b.left||!b.top?b.width||b.height||b.top||!b.left||(b.left=null):b.top=null,b},_getPaddingPlusBorderDimensions:function(b){var a=0,e=[],g=[b.css("borderTopWidth"),b.css("borderRightWidth"),b.css("borderBottomWidth"),b.css("borderLeftWidth")];for(b=[b.css("paddingTop"),b.css("paddingRight"),b.css("paddingBottom"),b.css("paddingLeft")];4>a;a++)e[a]=parseFloat(g[a])||0,e[a]+=parseFloat(b[a])||0;return{height:e[0]+e[2],width:e[1]+
e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b,a=0,e=this.helper||this.element;this._proportionallyResizeElements.length>a;a++)b=this._proportionallyResizeElements[a],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(b)),b.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?
(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-
a}},n:function(b,a,e){return{top:this.originalPosition.top+e,height:this.originalSize.height-e}},s:function(b,a,e){return{height:this.originalSize.height+e}},se:function(b,d,e){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,d,e]))},sw:function(b,d,e){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,d,e]))},ne:function(b,d,e){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,d,e]))},nw:function(b,d,
e){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,d,e]))}},_propagate:function(b,d){a.ui.plugin.call(this,b,[d,this.ui()]);"resize"!==b&&this._trigger(b,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var d=a(this).resizable("instance"),
e=d.options,g=d._proportionallyResizeElements,c=g.length&&/textarea/i.test(g[0].nodeName),f=c&&d._hasScroll(g[0],"left")?0:d.sizeDiff.height;c={width:d.size.width-(c?0:d.sizeDiff.width),height:d.size.height-f};f=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null;var h=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(c,h&&f?{top:h,left:f}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e=
{width:parseFloat(d.element.css("width")),height:parseFloat(d.element.css("height")),top:parseFloat(d.element.css("top")),left:parseFloat(d.element.css("left"))};g&&g.length&&a(g[0]).css({width:e.width,height:e.height});d._updateCache(e);d._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,d,e,g,c,f,h,l=a(this).resizable("instance"),k=l.element,t=l.options.containment;(k=t instanceof a?t.get(0):/parent/.test(t)?k.parent().get(0):t)&&(l.containerElement=
a(k),/document/.test(t)||t===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(k),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,g){d[a]=l._num(b.css("padding"+g))}),l.containerOffset=b.offset(),l.containerPosition=b.position(),l.containerSize={height:b.innerHeight()-d[3],width:b.innerWidth()-d[1]},e=l.containerOffset,
g=l.containerSize.height,c=l.containerSize.width,f=l._hasScroll(k,"left")?k.scrollWidth:c,h=l._hasScroll(k)?k.scrollHeight:g,l.parentData={element:k,left:e.left,top:e.top,width:f,height:h}))},resize:function(b){var d=a(this).resizable("instance");var e=d.options;var g=d.containerOffset;var c=d.position;b=d._aspectRatio||b.shiftKey;var f={top:0,left:0},h=d.containerElement,l=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=g);c.left<(d._helper?g.left:0)&&(d.size.width+=d._helper?d.position.left-
g.left:d.position.left-f.left,b&&(d.size.height=d.size.width/d.aspectRatio,l=!1),d.position.left=e.helper?g.left:0);c.top<(d._helper?g.top:0)&&(d.size.height+=d._helper?d.position.top-g.top:d.position.top,b&&(d.size.width=d.size.height*d.aspectRatio,l=!1),d.position.top=d._helper?g.top:0);e=d.containerElement.get(0)===d.element.parent().get(0);c=/relative|absolute/.test(d.containerElement.css("position"));e&&c?(d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top):
(d.offset.left=d.element.offset().left,d.offset.top=d.element.offset().top);e=Math.abs(d.sizeDiff.width+(d._helper?d.offset.left-f.left:d.offset.left-g.left));g=Math.abs(d.sizeDiff.height+(d._helper?d.offset.top-f.top:d.offset.top-g.top));e+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-e,b&&(d.size.height=d.size.width/d.aspectRatio,l=!1));g+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-g,b&&(d.size.width=d.size.height*d.aspectRatio,l=!1));l||(d.position.left=
d.prevPosition.left,d.position.top=d.prevPosition.top,d.size.width=d.prevSize.width,d.size.height=d.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),d=b.options,e=b.containerOffset,g=b.containerPosition,c=b.containerElement,f=a(b.helper),h=f.offset(),l=f.outerWidth()-b.sizeDiff.width;f=f.outerHeight()-b.sizeDiff.height;b._helper&&!d.animate&&/relative/.test(c.css("position"))&&a(this).css({left:h.left-g.left-e.left,width:l,height:f});b._helper&&!d.animate&&/static/.test(c.css("position"))&&
a(this).css({left:h.left-g.left-e.left,width:l,height:f})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance").options;a(b.alsoResize).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseFloat(b.width()),height:parseFloat(b.height()),left:parseFloat(b.css("left")),top:parseFloat(b.css("top"))})})},resize:function(b,d){b=a(this).resizable("instance");var e=b.originalSize,g=b.originalPosition,c={height:b.size.height-e.height||0,width:b.size.width-
e.width||0,top:b.position.top-g.top||0,left:b.position.left-g.left||0};a(b.options.alsoResize).each(function(){var b=a(this),g=a(this).data("ui-resizable-alsoresize"),e={},f=b.parents(d.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(f,function(b,a){(b=(g[a]||0)+(c[a]||0))&&0<=b&&(e[a]=b||null)});b.css(e)})},stop:function(){a(this).removeData("ui-resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),
d=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0});b._addClass(b.ghost,"ui-resizable-ghost");!1!==a.uiBackCompat&&"string"==typeof b.options.ghost&&b.ghost.addClass(this.options.ghost);b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");
b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b,d=a(this).resizable("instance"),e=d.options,g=d.size,c=d.originalSize,f=d.originalPosition,h=d.axis,l="number"==typeof e.grid?[e.grid,e.grid]:e.grid,k=l[0]||1,t=l[1]||1,w=Math.round((g.width-c.width)/k)*k;g=Math.round((g.height-c.height)/t)*t;var x=c.width+w,r=c.height+g,y=e.maxWidth&&x>e.maxWidth,z=e.maxHeight&&r>e.maxHeight,A=e.minWidth&&e.minWidth>x,v=e.minHeight&&e.minHeight>
r;e.grid=l;A&&(x+=k);v&&(r+=t);y&&(x-=k);z&&(r-=t);/^(se|s|e)$/.test(h)?(d.size.width=x,d.size.height=r):/^(ne)$/.test(h)?(d.size.width=x,d.size.height=r,d.position.top=f.top-g):/^(sw)$/.test(h)?(d.size.width=x,d.size.height=r,d.position.left=f.left-w):((0>=r-t||0>=x-k)&&(b=d._getPaddingPlusBorderDimensions(this)),0<r-t?(d.size.height=r,d.position.top=f.top-g):(r=t-b.height,d.size.height=r,d.position.top=f.top+c.height-r),0<x-k?(d.size.width=x,d.position.left=f.left-w):(x=k-b.width,d.size.width=x,
d.position.left=f.left+c.width-x))}});a.ui.resizable;a.widget("ui.selectable",a.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b=this;this._addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b.elementPos=a(b.element[0]).offset();b.selectees=a(b.options.filter,b.element[0]);b._addClass(b.selectees,"ui-selectee");b.selectees.each(function(){var d=
a(this),c=d.offset(),g=c.left-b.elementPos.left;c=c.top-b.elementPos.top;a.data(this,"selectable-item",{element:this,$element:d,left:g,top:c,right:g+d.outerWidth(),bottom:c+d.outerHeight(),startselected:!1,selected:d.hasClass("ui-selected"),selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=a("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},
_mouseStart:function(b){var d=this,c=this.options;this.opos=[b.pageX,b.pageY];this.elementPos=a(this.element[0]).offset();this.options.disabled||(this.selectees=a(c.filter,this.element[0]),this._trigger("start",b),a(c.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),c.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var g=a.data(this,"selectable-item");g.startselected=!0;b.metaKey||b.ctrlKey||(d._removeClass(g.$element,"ui-selected"),
g.selected=!1,d._addClass(g.$element,"ui-unselecting"),g.unselecting=!0,d._trigger("unselecting",b,{unselecting:g.element}))}),a(b.target).parents().addBack().each(function(){var g,c=a.data(this,"selectable-item");return c?(g=!b.metaKey&&!b.ctrlKey||!c.$element.hasClass("ui-selected"),d._removeClass(c.$element,g?"ui-unselecting":"ui-selected")._addClass(c.$element,g?"ui-selecting":"ui-unselecting"),c.unselecting=!g,c.selecting=g,c.selected=g,g?d._trigger("selecting",b,{selecting:c.element}):d._trigger("unselecting",
b,{unselecting:c.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var d,c=this,g=this.options,f=this.opos[0],h=this.opos[1],k=b.pageX,l=b.pageY;return f>k&&(d=k,k=f,f=d),h>l&&(d=l,l=h,h=d),this.helper.css({left:f,top:h,width:k-f,height:l-h}),this.selectees.each(function(){var d=a.data(this,"selectable-item"),e=!1,m,n,q,y;d&&d.element!==c.element[0]&&(m=d.left+c.elementPos.left,n=d.right+c.elementPos.left,q=d.top+c.elementPos.top,y=d.bottom+c.elementPos.top,
"touch"===g.tolerance?e=!(m>k||f>n||q>l||h>y):"fit"===g.tolerance&&(e=m>f&&k>n&&q>h&&l>y),e?(d.selected&&(c._removeClass(d.$element,"ui-selected"),d.selected=!1),d.unselecting&&(c._removeClass(d.$element,"ui-unselecting"),d.unselecting=!1),d.selecting||(c._addClass(d.$element,"ui-selecting"),d.selecting=!0,c._trigger("selecting",b,{selecting:d.element}))):(d.selecting&&((b.metaKey||b.ctrlKey)&&d.startselected?(c._removeClass(d.$element,"ui-selecting"),d.selecting=!1,c._addClass(d.$element,"ui-selected"),
d.selected=!0):(c._removeClass(d.$element,"ui-selecting"),d.selecting=!1,d.startselected&&(c._addClass(d.$element,"ui-unselecting"),d.unselecting=!0),c._trigger("unselecting",b,{unselecting:d.element}))),d.selected&&(b.metaKey||b.ctrlKey||d.startselected||(c._removeClass(d.$element,"ui-selected"),d.selected=!1,c._addClass(d.$element,"ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element})))))}),!1}},_mouseStop:function(b){var d=this;return this.dragged=!1,a(".ui-unselecting",
this.element[0]).each(function(){var c=a.data(this,"selectable-item");d._removeClass(c.$element,"ui-unselecting");c.unselecting=!1;c.startselected=!1;d._trigger("unselected",b,{unselected:c.element})}),a(".ui-selecting",this.element[0]).each(function(){var c=a.data(this,"selectable-item");d._removeClass(c.$element,"ui-selecting")._addClass(c.$element,"ui-selected");c.selecting=!1;c.selected=!0;c.startselected=!0;d._trigger("selected",b,{selected:c.element})}),this._trigger("stop",b),this.helper.remove(),
!1}});var k=/ui-corner-([a-z]){2,6}/g;a.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},
_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var b=this,d=[];a.each(this.options.items,function(c,g){var e,f={};return g?"controlgroupLabel"===c?(e=b.element.find(g),e.each(function(){var b=a(this);b.children(".ui-controlgroup-label-contents").length||
b.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),b._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),d=d.concat(e.get()),void 0):(a.fn[c]&&(f=b["_"+c+"Options"]?b["_"+c+"Options"]("middle"):{classes:{}},b.element.find(g).each(function(){var g=a(this),e=g[c]("instance"),h=a.widget.extend({},f);"button"===c&&g.parent(".ui-spinner").length||(e||(e=g[c]()[c]("instance")),e&&(h.classes=b._resolveClassesValues(h.classes,e)),g[c](h),h=g[c]("widget"),a.data(h[0],
"ui-controlgroup-data",e?e:g[c]("instance")),d.push(h[0]))})),void 0):void 0});this.childWidgets=a(a.unique(d));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(b){this.childWidgets.each(function(){var d=a(this).data("ui-controlgroup-data");d&&d[b]&&d[b]()})},_updateCornerClass:function(b,a){a=this._buildSimpleOptions(a,"label").classes.label;this._removeClass(b,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(b,
null,a)},_buildSimpleOptions:function(b,a){var d="vertical"===this.options.direction,c={classes:{}};return c.classes[a]={middle:"",first:"ui-corner-"+(d?"top":"left"),last:"ui-corner-"+(d?"bottom":"right"),only:"ui-corner-all"}[b],c},_spinnerOptions:function(b){b=this._buildSimpleOptions(b,"ui-spinner");return b.classes["ui-spinner-up"]="",b.classes["ui-spinner-down"]="",b},_buttonOptions:function(b){return this._buildSimpleOptions(b,"ui-button")},_checkboxradioOptions:function(b){return this._buildSimpleOptions(b,
"ui-checkboxradio-label")},_selectmenuOptions:function(b){var a="vertical"===this.options.direction;return{width:a?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(a?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(a?"top":"left")},last:{"ui-selectmenu-button-open":a?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(a?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[b]}},
_resolveClassesValues:function(b,d){var c={};return a.each(b,function(g){var e=d.options.classes[g]||"";e=a.trim(e.replace(k,""));c[g]=(e+" "+b[g]).replace(/\s+/g," ")}),c},_setOption:function(b,a){return"direction"===b&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(b,a),"disabled"===b?(this._callChildMethod(a?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var b=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===
this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();var d=this.childWidgets;this.options.onlyVisible&&(d=d.filter(":visible"));d.length&&(a.each(["first","last"],function(a,c){(a=d[c]().data("ui-controlgroup-data"))&&b["_"+a.widgetName+"Options"]?(c=b["_"+a.widgetName+"Options"](1===d.length?"only":c),c.classes=b._resolveClassesValues(c.classes,a),a.element[a.widgetName](c)):b._updateCornerClass(d[c](),c)}),this._callChildMethod("refresh"))}});a.widget("ui.checkboxradio",
[a.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var b,d,c=this,g=this._super()||{};return this._readType(),d=this.element.labels(),this.label=a(d[d.length-1]),this.label.length||a.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){c.originalLabel+=3===this.nodeType?a(this).text():
this.outerHTML}),this.originalLabel&&(g.label=this.originalLabel),b=this.element[0].disabled,null!=b&&(g.disabled=b),g},_create:function(){var b=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,
"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();b&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover"));this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},
_readType:function(){var b=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===b&&/radio|checkbox/.test(this.type)||a.error("Can't create checkboxradio on element.nodeName="+b+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var b,d=this.element[0].name,c="input[name='"+a.ui.escapeSelector(d)+"']";return d?(b=this.form.length?a(this.form[0].elements).filter(c):
a(c).filter(function(){return 0===a(this).form().length}),b.not(this.element)):a([])},_toggleClasses:function(){var b=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",b)._toggleClass(this.icon,null,"ui-icon-blank",!b);"radio"===this.type&&this._getRadioGroup().each(function(){var b=a(this).checkboxradio("instance");b&&b._removeClass(b.label,
"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(b,a){return"label"!==b||a?(this._super(b,a),"disabled"===b?(this._toggleClass(this.label,null,"ui-state-disabled",a),this.element[0].disabled=a,void 0):(this.refresh(),void 0)):void 0},_updateIcon:function(b){var d="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=a("<span>"),this.iconSpace=a("<span> </span>"),
this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(d+=b?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,b?"ui-icon-blank":"ui-icon-check")):d+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",d),b||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var b=
this.label.contents().not(this.element[0]);this.icon&&(b=b.not(this.icon[0]));this.iconSpace&&(b=b.not(this.iconSpace[0]));b.remove();this.label.append(this.options.label)},refresh:function(){var b=this.element[0].checked,a=this.element[0].disabled;this._updateIcon(b);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b);null!==this.options.label&&this._updateLabel();a!==this.options.disabled&&this._setOptions({disabled:a})}}]);a.ui.checkboxradio;a.widget("ui.button",{version:"1.12.1",
defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var a,d=this._super()||{};return this.isInput=this.element.is("input"),a=this.element[0].disabled,null!=a&&(d.disabled=a),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(d.label=this.originalLabel),d},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=
!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(b){b.keyCode===a.ui.keyCode.SPACE&&(b.preventDefault(),this.element[0].click?
this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(b,d){var c=(b="iconPosition"!==b)?this.options.iconPosition:d,g="top"===c||"bottom"===c;this.icon?b&&this._removeClass(this.icon,
null,this.options.icon):(this.icon=a("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));b&&this._addClass(this.icon,null,d);this._attachIcon(c);g?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(c))},
_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=void 0===a.icon?this.options.icon:a.icon;(void 0===a.showLabel?this.options.showLabel:a.showLabel)||b||(a.showLabel=
!0);this._super(a)},_setOption:function(a,d){"icon"===a&&(d?this._updateIcon(a,d):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===a&&this._updateIcon(a,d);"showLabel"===a&&(this._toggleClass("ui-button-icon-only",null,!d),this._updateTooltip());"label"===a&&(this.isInput?this.element.val(d):(this.element.html(d),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(a,d);"disabled"===a&&(this._toggleClass(null,
"ui-state-disabled",d),this.element[0].disabled=d,d&&this.element.blur())},refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOptions({disabled:a});this._updateTooltip()}});!1!==a.uiBackCompat&&(a.widget("ui.button",a.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);
!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(a,d){return"text"===a?(this._super("showLabel",d),void 0):("showLabel"===a&&(this.options.text=
d),"icon"===a&&(this.options.icons.primary=d),"icons"===a&&(d.primary?(this._super("icon",d.primary),this._super("iconPosition","beginning")):d.secondary&&(this._super("icon",d.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),a.fn.button=function(b){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?b.apply(this,arguments):(a.ui.checkboxradio||
a.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(a.fn.button),a.fn.buttonset=function(){return a.ui.controlgroup||a.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&
arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});a.ui.button;a.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var d=
a(this).css(b).offset().top;0>d&&a(this).css("top",b.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,
minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);
this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a=this.originalPosition;this._untrackInstance();
this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);var d=a.parent.children().eq(a.index);d.length&&d[0]!==this.element[0]?d.before(this.element):a.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var d=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),
this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||a.ui.safeBlur(a.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,d){var c=!1,g=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get();g=Math.max.apply(null,g);return g>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",
g+1),c=!0),c&&!d&&this._trigger("focus",b),c},open:function(){var b=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=a(a.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),
void 0)},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).trigger("focus")},_keepFocus:function(b){function d(){var b=a.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();d.call(this);
this._delay(d)},_createWrapper:function(){this.uiDialog=a("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),this.close(b),void 0;if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var d=this.uiDialog.find(":tabbable"),
c=d.filter(":first"),g=d.filter(":last");b.target!==g[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==c[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){g.trigger("focus")}),b.preventDefault()):(this._delay(function(){c.trigger("focus")}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){this.uiDialogTitlebar=
a("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:a("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");
this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});var b=a("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(b,"ui-dialog-title");this._title(b);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title?a.text(this.options.title):a.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane",
"ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var b=this,d=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(d)||a.isArray(d)&&!d.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(a.each(d,function(d,c){c=a.isFunction(c)?{click:c,text:d}:c;c=a.extend({type:"button"},c);
var g=c.click;d={icon:c.icon,iconPosition:c.iconPosition,showLabel:c.showLabel,icons:c.icons,text:c.text};delete c.click;delete c.icon;delete c.iconPosition;delete c.showLabel;delete c.icons;"boolean"==typeof c.text&&delete c.text;a("<button></button>",c).button(d).appendTo(b.uiButtonSet).on("click",function(){g.apply(b.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function b(a){return{position:a.position,
offset:a.offset}}var d=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,e){d._addClass(a(this),"ui-dialog-dragging");d._blockFrames();d._trigger("dragStart",c,b(e))},drag:function(a,c){d._trigger("drag",a,b(c))},stop:function(g,e){var f=e.offset.left-d.document.scrollLeft(),h=e.offset.top-d.document.scrollTop();c.position={my:"left top",at:"left"+(0<=f?"+":"")+f+" top"+(0<=h?"+":
"")+h,of:d.window};d._removeClass(a(this),"ui-dialog-dragging");d._unblockFrames();d._trigger("dragStop",g,b(e))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var d=this,c=this.options,g=c.resizable,f=this.uiDialog.css("position");g="string"==typeof g?g:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,
minWidth:c.minWidth,minHeight:this._minHeight(),handles:g,start:function(c,g){d._addClass(a(this),"ui-dialog-resizing");d._blockFrames();d._trigger("resizeStart",c,b(g))},resize:function(a,c){d._trigger("resize",a,b(c))},stop:function(g,e){var f=d.uiDialog.offset(),h=f.left-d.document.scrollLeft();f=f.top-d.document.scrollTop();c.height=d.uiDialog.height();c.width=d.uiDialog.width();c.position={my:"left top",at:"left"+(0<=h?"+":"")+h+" top"+(0<=f?"+":"")+f,of:d.window};d._removeClass(a(this),"ui-dialog-resizing");
d._unblockFrames();d._trigger("resizeStop",g,b(e))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget();this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),d=a.inArray(this,b);-1!==d&&b.splice(d,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");return a||(a=[],this.document.data("ui-dialog-instances",
a)),a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(b){var d=this,c=!1,g={};a.each(b,function(a,b){d._setOption(a,b);a in d.sizeRelatedOptions&&(c=!0);a in d.resizableRelatedOptions&&(g[a]=b)});c&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&
this.uiDialog.resizable("option",g)},_setOption:function(b,d){var c,g,f=this.uiDialog;"disabled"!==b&&(this._super(b,d),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:a("<a>").text(""+this.options.closeText).html()}),"draggable"===b&&(c=f.is(":data(ui-draggable)"),c&&!d&&f.draggable("destroy"),!c&&d&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&(g=f.is(":data(ui-resizable)"),
g&&!d&&f.resizable("destroy"),g&&"string"==typeof d&&f.resizable("option","handles",d),g||!1===d||this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});a.minWidth>a.width&&(a.width=a.minWidth);var d=this.uiDialog.css({height:"auto",width:a.width}).outerHeight();var c=Math.max(0,a.minHeight-d);var g="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-
d):"none";"auto"===a.height?this.element.css({minHeight:c,maxHeight:g,height:"auto"}):this.element.height(Math.max(0,a.height-d));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&
(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=a("<div>").appendTo(this._appendTo());
this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays"));this.overlay.remove();this.overlay=null}}});!1!==a.uiBackCompat&&
a.widget("ui.dialog",a.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,d){"dialogClass"===a&&this.uiDialog.removeClass(this.options.dialogClass).addClass(d);this._superApply(arguments)}});a.ui.dialog;a.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",
position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(b,d){var c=(b.attr("aria-describedby")||"").split(/\s+/);c.push(d);b.data("ui-tooltip-id",d).attr("aria-describedby",a.trim(c.join(" ")))},_removeDescribedBy:function(b){var d=b.data("ui-tooltip-id"),c=(b.attr("aria-describedby")||"").split(/\s+/);d=a.inArray(d,c);-1!==d&&c.splice(d,1);b.removeData("ui-tooltip-id");(c=a.trim(c.join(" ")))?b.attr("aria-describedby",
c):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=a([])},_setOption:function(b,d){var c=this;this._super(b,d);"content"===b&&a.each(this.tooltips,function(a,b){c._updateContent(b.element)})},_setOptionDisabled:function(a){this[a?
"_disable":"_enable"]()},_disable:function(){var b=this;a.each(this.tooltips,function(d,c){d=a.Event("blur");d.target=d.currentTarget=c.element[0];b.close(d,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var b=a(this);return b.is("[title]")?b.data("ui-tooltip-title",b.attr("title")).removeAttr("title"):void 0}))},_enable:function(){this.disabledTitles.each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))});
this.disabledTitles=a([])},open:function(b){var d=this,c=a(b?b.target:this.element).closest(this.options.items);c.length&&!c.data("ui-tooltip-id")&&(c.attr("title")&&c.data("ui-tooltip-title",c.attr("title")),c.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&c.parents().each(function(){var b,c=a(this);c.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,d.close(b,!0));c.attr("title")&&(c.uniqueId(),d.parents[this.id]={element:this,title:c.attr("title")},c.attr("title",""))}),
this._registerCloseHandlers(b,c),this._updateContent(c,b))},_updateContent:function(a,d){var b,c=this.options.content,f=this,h=d?d.type:null;return"string"==typeof c||c.nodeType||c.jquery?this._open(d,a,c):(b=c.call(a[0],function(b){f._delay(function(){a.data("ui-tooltip-open")&&(d&&(d.type=h),this._open(d,a,b))})}),b&&this._open(d,a,b),void 0)},_open:function(b,d,c){function g(a){h.of=a;l.is(":hidden")||l.position(h)}var e,f,h=a.extend({},this.options.position);if(c){if(e=this._find(d))return e.tooltip.find(".ui-tooltip-content").html(c),
void 0;d.is("[title]")&&(b&&"mouseover"===b.type?d.attr("title",""):d.removeAttr("title"));e=this._tooltip(d);var l=e.tooltip;this._addDescribedBy(d,l.attr("id"));l.find(".ui-tooltip-content").html(c);this.liveRegion.children().hide();c=a("<div>").html(l.find(".ui-tooltip-content").html());c.removeAttr("name").find("[name]").removeAttr("name");c.removeAttr("id").find("[id]").removeAttr("id");c.appendTo(this.liveRegion);this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:g}),
g(b)):l.position(a.extend({of:d},this.options.position));l.hide();this._show(l,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(f=this.delayedShow=setInterval(function(){l.is(":visible")&&(g(h.of),clearInterval(f))},a.fx.interval));this._trigger("open",b,{tooltip:l})}},_registerCloseHandlers:function(b,d){var c={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),b.currentTarget=d[0],this.close(b,!0))}};d[0]!==this.element[0]&&(c.remove=function(){this._removeTooltip(this._find(d).tooltip)});
b&&"mouseover"!==b.type||(c.mouseleave="close");b&&"focusin"!==b.type||(c.focusout="close");this._on(!0,d,c)},close:function(b){var d,c=this,g=a(b?b.currentTarget:this.element),f=this._find(g);return f?(d=f.tooltip,f.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),f.hiding=!0,d.stop(!0),this._hide(d,this.options.hide,function(){c._removeTooltip(a(this))}),g.removeData("ui-tooltip-open"),this._off(g,
"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,d){a(d.element).attr("title",d.title);delete c.parents[b]}),f.closing=!0,this._trigger("close",b,{tooltip:d}),f.hiding||(f.closing=!1)),void 0):(g.removeData("ui-tooltip-open"),void 0)},_tooltip:function(b){var d=a("<div>").attr("role","tooltip"),c=a("<div>").appendTo(d),g=d.uniqueId().attr("id");return this._addClass(c,"ui-tooltip-content"),
this._addClass(d,"ui-tooltip","ui-widget ui-widget-content"),d.appendTo(this._appendTo(b)),this.tooltips[g]={element:b,tooltip:d}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_appendTo:function(a){a=a.closest(".ui-front, dialog");return a.length||(a=this.document[0].body),a},_destroy:function(){var b=this;a.each(this.tooltips,function(d,c){var g=a.Event("blur");c=c.element;g.target=g.currentTarget=
c[0];b.close(g,!0);a("#"+d).remove();c.data("ui-tooltip-title")&&(c.attr("title")||c.attr("title",c.data("ui-tooltip-title")),c.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==a.uiBackCompat&&a.widget("ui.tooltip",a.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);return this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass),a}});a.ui.tooltip;a.effects={effect:{}};(function(a,d){function b(a,b,d){var c=t[b.type]||{};
return null==a?d||!b.def?null:b.def:(a=c.floor?~~a:parseFloat(a),isNaN(a)?b.def:c.mod?(a+c.mod)%c.mod:0>a?0:a>c.max?c.max:a)}function c(b){var c=l(),g=c._rgba=[];return b=b.toLowerCase(),r(k,function(a,e){var f;a=(a=e.re.exec(b))&&e.parse(a);e=e.space||"rgba";return a?(f=c[e](a),c[p[e].cache]=f[p[e].cache],g=c._rgba=f._rgba,!1):d}),g.length?("0,0,0,0"===g.join()&&a.extend(g,y.transparent),c):y[b]}function f(a,b,d){return d=(d+1)%1,1>6*d?a+6*(b-a)*d:1>2*d?b:2>3*d?a+6*(b-a)*(2/3-d):a}var h=/^([\-+])=\s*(\d+\.?\d*)/,
k=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+
a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],l=a.Color=function(b,d,c,g){return new a.Color.fn.parse(b,d,c,g)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},
t={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},w=l.support={},x=a("<p>")[0],r=a.each;x.style.cssText="background-color:rgba(1,1,1,.5)";w.rgba=-1<x.style.backgroundColor.indexOf("rgba");r(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});l.fn=a.extend(l.prototype,{parse:function(g,e,f,h){if(g===d)return this._rgba=[null,null,null,null],this;(g.jquery||g.nodeType)&&(g=a(g).css(e),e=d);var m=this,k=a.type(g),n=this._rgba=[];return e!==d&&(g=[g,e,f,h],
k="array"),"string"===k?this.parse(c(g)||y._default):"array"===k?(r(p.rgba.props,function(a,d){n[d.idx]=b(g[d.idx],d)}),this):"object"===k?(g instanceof l?r(p,function(a,b){g[b.cache]&&(m[b.cache]=g[b.cache].slice())}):r(p,function(d,c){var e=c.cache;r(c.props,function(a,d){if(!m[e]&&c.to){if("alpha"===a||null==g[a])return;m[e]=c.to(m._rgba)}m[e][d.idx]=b(g[a],d,!0)});m[e]&&0>a.inArray(null,m[e].slice(0,3))&&(m[e][3]=1,c.from&&(m._rgba=c.from(m[e])))}),this):d},is:function(a){var b=l(a),c=!0,g=this;
return r(p,function(a,e){var f,h=b[e.cache];return h&&(f=g[e.cache]||e.to&&e.to(g._rgba)||[],r(e.props,function(a,b){return null!=h[b.idx]?c=h[b.idx]===f[b.idx]:d})),c}),c},_space:function(){var a=[],b=this;return r(p,function(d,c){b[c.cache]&&a.push(d)}),a.pop()},transition:function(a,d){var c=l(a);a=c._space();var g=p[a],e=0===this.alpha()?l("transparent"):this,f=e[g.cache]||g.to(e._rgba),h=f.slice();return c=c[g.cache],r(g.props,function(a,g){a=g.idx;var e=f[a],m=c[a],l=t[g.type]||{};null!==m&&
(null===e?h[a]=m:(l.mod&&(m-e>l.mod/2?e+=l.mod:e-m>l.mod/2&&(e-=l.mod)),h[a]=b((m-e)*d+e,g)))}),this[a](h)},blend:function(b){if(1===this._rgba[3])return this;var d=this._rgba.slice(),c=d.pop(),g=l(b)._rgba;return l(a.map(d,function(a,b){return(1-c)*g[b]+c*a}))},toRgbaString:function(){var b="rgba(",d=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});return 1===d[3]&&(d.pop(),b="rgb("),b+d.join()+")"},toHslaString:function(){var b="hsla(",d=a.map(this.hsla(),function(a,b){return null==a&&
(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===d[3]&&(d.pop(),b="hsl("),b+d.join()+")"},toHexString:function(b){var d=this._rgba.slice(),c=d.pop();return b&&d.push(~~(255*c)),"#"+a.map(d,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});l.fn.parse.prototype=l.fn;p.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,d,c=a[0]/255,g=a[1]/255,
e=a[2]/255;a=a[3];var f=Math.max(c,g,e),h=Math.min(c,g,e),m=f-h,l=f+h,k=.5*l;return b=h===f?0:c===f?60*(g-e)/m+360:g===f?60*(e-c)/m+120:60*(c-g)/m+240,d=0===m?0:.5>=k?m/l:m/(2-l),[Math.round(b)%360,d,k,null==a?1:a]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,d=a[1],c=a[2];a=a[3];d=.5>=c?c*(1+d):c+d-c*d;c=2*c-d;return[Math.round(255*f(c,d,b+1/3)),Math.round(255*f(c,d,b)),Math.round(255*f(c,d,b-1/3)),a]};r(p,function(c,g){var e=g.props,f=
g.cache,m=g.to,k=g.from;l.fn[c]=function(c){if(m&&!this[f]&&(this[f]=m(this._rgba)),c===d)return this[f].slice();var g,h=a.type(c),n="array"===h||"object"===h?c:arguments,q=this[f].slice();return r(e,function(a,d){a=n["object"===h?a:d.idx];null==a&&(a=q[d.idx]);q[d.idx]=b(a,d)}),k?(g=l(k(q)),g[f]=q,g):l(q)};r(e,function(b,d){l.fn[b]||(l.fn[b]=function(g){var e,f=a.type(g),m="alpha"===b?this._hsla?"hsla":"rgba":c,l=this[m](),k=l[d.idx];return"undefined"===f?k:("function"===f&&(g=g.call(this,k),f=a.type(g)),
null==g&&d.empty?this:("string"===f&&(e=h.exec(g),e&&(g=k+parseFloat(e[2])*("+"===e[1]?1:-1))),l[d.idx]=g,this[m](l)))})})});l.hook=function(b){b=b.split(" ");r(b,function(b,d){a.cssHooks[d]={set:function(b,g){var e,f="";if("transparent"!==g&&("string"!==a.type(g)||(e=c(g)))){if(g=l(e||g),!w.rgba&&1!==g._rgba[3]){for(e="backgroundColor"===d?b.parentNode:b;(""===f||"transparent"===f)&&e&&e.style;)try{f=a.css(e,"backgroundColor"),e=e.parentNode}catch(C){}g=g.blend(f&&"transparent"!==f?f:"_default")}g=
g.toRgbaString()}try{b.style[d]=g}catch(C){}}};a.fx.step[d]=function(b){b.colorInit||(b.start=l(b.elem,d),b.end=l(b.end),b.colorInit=!0);a.cssHooks[d].set(b.elem,b.start.transition(b.end,b.pos))}})};l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor={expand:function(a){var b={};return r(["Top","Right","Bottom","Left"],function(d,c){b["border"+c+"Color"]=a}),b}};
var y=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(a);(function(){function b(b){var d=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,c={};if(d&&d.length&&d[0]&&d[d[0]])for(b=d.length;b--;){var g=
d[b];"string"==typeof d[g]&&(c[a.camelCase(g)]=d[g])}else for(g in d)"string"==typeof d[g]&&(c[g]=d[g]);return c}var d=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,d){a.fx.step[d]=function(b){("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)&&(a.style(b.elem,d,b.end),b.setAttr=!0)}});a.fn.addBack||(a.fn.addBack=
function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(g,e,f,h){var m=a.speed(e,f,h);return this.queue(function(){var e=a(this),f=e.attr("class")||"",h=m.children?e.find("*").addBack():e;h=h.map(function(){return{el:a(this),start:b(this)}});var l=function(){a.each(d,function(a,b){g[b]&&e[b+"Class"](g[b])})};l();h=h.map(function(){this.end=b(this.el[0]);var d=this.start,g=this.end,e,f={};for(e in g){var h=g[e];d[e]!==h&&(c[e]||(a.fx.step[e]||
!isNaN(parseFloat(h)))&&(f[e]=h))}return this.diff=f,this});e.attr("class",f);h=h.map(function(){var b=this,d=a.Deferred(),c=a.extend({},m,{queue:!1,complete:function(){d.resolve(b)}});return this.el.animate(this.diff,c),d.promise()});a.when.apply(a,h.get()).done(function(){l();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});m.complete.call(e[0])})})};a.fn.extend({addClass:function(b){return function(d,c,g,e){return c?a.effects.animateClass.call(this,{add:d},
c,g,e):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(d,c,g,e){return 1<arguments.length?a.effects.animateClass.call(this,{remove:d},c,g,e):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(d,c,g,e,f){return"boolean"==typeof c||void 0===c?g?a.effects.animateClass.call(this,c?{add:d}:{remove:d},g,e,f):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},c,g,e)}}(a.fn.toggleClass),switchClass:function(b,d,c,e,f){return a.effects.animateClass.call(this,
{add:d,remove:b},c,e,f)}})})();(function(){function b(b,d,c,e){return a.isPlainObject(b)&&(d=b,b=b.effect),b={effect:b},null==d&&(d={}),a.isFunction(d)&&(e=d,c=null,d={}),("number"==typeof d||a.fx.speeds[d])&&(e=c,c=d,d={}),a.isFunction(c)&&(e=c,c=null),d&&a.extend(b,d),c=c||d.duration,b.duration=a.fx.off?0:"number"==typeof c?c:c in a.fx.speeds?a.fx.speeds[c]:a.fx.speeds._default,b.complete=e||d.complete,b}function d(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?
a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}function c(a,b){var d=b.outerWidth();b=b.outerHeight();a=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(a)||["",0,d,b,0];return{top:parseFloat(a[1])||0,right:"auto"===a[2]?d:parseFloat(a[2]),bottom:"auto"===a[3]?b:parseFloat(a[3]),left:parseFloat(a[4])||0}}a.expr&&a.expr.filters&&a.expr.filters.animated&&(a.expr.filters.animated=function(b){return function(d){return!!a(d).data("ui-effects-animated")||
b(d)}}(a.expr.filters.animated));!1!==a.uiBackCompat&&a.extend(a.effects,{save:function(a,b){for(var d=0,c=b.length;c>d;d++)null!==b[d]&&a.data("ui-effects-"+b[d],a[0].style[b[d]])},restore:function(a,b){for(var d,c=0,g=b.length;g>c;c++)null!==b[c]&&(d=a.data("ui-effects-"+b[c]),a.css(b[c],d))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var d={width:b.outerWidth(!0),height:b.outerHeight(!0),
"float":b.css("float")},c=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:b.width(),height:b.height()},e=document.activeElement;try{e.id}catch(p){e=document.body}return b.wrap(c),(b[0]===e||a.contains(b[0],e))&&a(e).trigger("focus"),c=b.parent(),"static"===b.css("position")?(c.css({position:"relative"}),b.css({position:"relative"})):(a.extend(d,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top",
"left","bottom","right"],function(a,c){d[c]=b.css(c);isNaN(parseInt(d[c],10))&&(d[c]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(g),c.css(d).show()},removeWrapper:function(b){var d=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).trigger("focus")),b}});a.extend(a.effects,{version:"1.12.1",define:function(b,d,c){return c||(c=d,d="effect"),a.effects.effect[b]=c,a.effects.effect[b].mode=
d,c},scaledDimensions:function(a,b,d){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var c="horizontal"!==d?(b||100)/100:1;b="vertical"!==d?(b||100)/100:1;return{height:a.height()*b,width:a.width()*c,outerHeight:a.outerHeight()*b,outerWidth:a.outerWidth()*c}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,d){var c=a.queue();1<b&&c.splice.apply(c,[1,0].concat(c.splice(b,d)));a.dequeue()},
saveStyle:function(a){a.data("ui-effects-style",a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data("ui-effects-style")||"";a.removeData("ui-effects-style")},mode:function(a,b){a=a.is(":hidden");return"toggle"===b&&(b=a?"show":"hide"),(a?"hide"===b:"show"===b)&&(b="none"),b},getBaseline:function(a,b){switch(a[0]){case "top":var d=0;break;case "middle":d=.5;break;case "bottom":d=1;break;default:d=a[0]/b.height}switch(a[1]){case "left":a=0;break;case "center":a=.5;break;case "right":a=
1;break;default:a=a[1]/b.width}return{x:a,y:d}},createPlaceholder:function(b){var d,c=b.css("position"),e=b.position();return b.css({marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()),/^(static|relative)/.test(c)&&(c="absolute",d=a("<"+b[0].nodeName+">").insertAfter(b).css({display:/^(inline|ruby)/.test(b.css("display"))?"inline-block":"block",visibility:"hidden",
marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight"),"float":b.css("float")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).addClass("ui-effects-placeholder"),b.data("ui-effects-placeholder",d)),b.css({position:c,left:e.left,top:e.top}),d},removePlaceholder:function(a){var b=a.data("ui-effects-placeholder");b&&(b.remove(),a.removeData("ui-effects-placeholder"))},cleanUp:function(b){a.effects.restoreStyle(b);a.effects.removePlaceholder(b)},
setTransition:function(b,d,c,e){return e=e||{},a.each(d,function(a,d){a=b.cssUnit(d);0<a[0]&&(e[d]=a[0]*c+a[1])}),e}});a.fn.extend({effect:function(){function d(b){function d(){h.removeData("ui-effects-animated");a.effects.cleanUp(h);"hide"===c.mode&&h.hide();g()}function g(){a.isFunction(t)&&t.call(h[0]);a.isFunction(b)&&b()}var h=a(this);c.mode=x.shift();!1===a.uiBackCompat||f?"none"===c.mode?(h[w](),g()):e.call(h[0],c,d):(h.is(":hidden")?"hide"===w:"show"===w)?(h[w](),g()):e.call(h[0],c,g)}var c=
b.apply(this,arguments),e=a.effects.effect[c.effect],f=e.mode,h=c.queue,k=h||"fx",t=c.complete,w=c.mode,x=[],r=function(b){var d=a(this),c=a.effects.mode(d,w)||f;d.data("ui-effects-animated",!0);x.push(c);f&&("show"===c||c===f&&"hide"===c)&&d.show();f&&"none"===c||a.effects.saveStyle(d);a.isFunction(b)&&b()};return a.fx.off||!e?w?this[w](c.duration,t):this.each(function(){t&&t.call(this)}):!1===h?this.each(r).each(d):this.queue(k,r).queue(k,d)},show:function(a){return function(c){if(d(c))return a.apply(this,
arguments);var e=b.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(a.fn.show),hide:function(a){return function(c){if(d(c))return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(a.fn.hide),toggle:function(a){return function(c){if(d(c)||"boolean"==typeof c)return a.apply(this,arguments);var e=b.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(a.fn.toggle),cssUnit:function(b){var d=this.css(b),c=[];return a.each(["em",
"px","%","pt"],function(a,b){0<d.indexOf(b)&&(c=[parseFloat(d),b])}),c},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):c(this.css("clip"),this)},transfer:function(b,d){var c=a(this),e=a(b.to),g="fixed"===e.css("position"),f=a("body"),h=g?f.scrollTop():0;f=g?f.scrollLeft():0;var k=e.offset();e={top:k.top-h,left:k.left-f,height:e.innerHeight(),width:e.innerWidth()};k=c.offset();var m=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:k.top-
h,left:k.left-f,height:c.innerHeight(),width:c.innerWidth(),position:g?"fixed":"absolute"}).animate(e,b.duration,b.easing,function(){m.remove();a.isFunction(d)&&d()})}});a.fx.step.clip=function(b){b.clipInit||(b.start=a(b.elem).cssClip(),"string"==typeof b.end&&(b.end=c(b.end,b.elem)),b.clipInit=!0);a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-
b.start.left)+b.start.left})}})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,d=4;((b=Math.pow(2,--d))-1)/11>a;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*
b-2)/22-a,2)}});a.each(b,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-c(1-a)};a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})})();a.effects;a.effects.define("fade","toggle",function(b,d){var c="show"===b.mode;a(this).css("opacity",c?0:1).animate({opacity:c?1:0},{queue:!1,duration:b.duration,easing:b.easing,complete:d})})});function Bootstrap4ModalDialogManager(){this.modals=[];this.callbacks=[]}Bootstrap4ModalDialogManager.prototype.Unregister=function(a){a=this.modals.indexOf(a);-1!==a&&(this.modals.splice(a,1),0===this.modals.length&&this.callbacks.forEach(function(a,f,h){a(!1)}))};Bootstrap4ModalDialogManager.prototype.Register=function(a){-1===this.modals.indexOf(a)&&(0===this.modals.length&&this.callbacks.forEach(function(a,f,h){a(!0)}),this.modals.push(a))};
Bootstrap4ModalDialogManager.prototype.CloseForegroundDialog=function(){0!==this.modals.length&&this.modals[this.modals.length-1].Hide()};Bootstrap4ModalDialogManager.prototype.CloseAllDialogs=function(){0!==this.modals.length&&this.modals.forEach(function(a,c,f){a.Hide()})};Bootstrap4ModalDialogManager.prototype.OnModalChanged=function(a){"function"===typeof a&&this.callbacks.push(a)};var DialogManager=new Bootstrap4ModalDialogManager;
function Bootstrap4ModalDialog(a,c,f,h,k){if(!c)throw"Dialog without content is surely something to be seen!??";this.objState={};this.parent=a;var b=typeof c;this.dialogContent="string"===b?$("<div>").addClass("modal-body").text(c):"function"===b?$("<div>").addClass("modal-body").append(c(this)):$("<div>").addClass("modal-body").append(c);this.callbacks=[];var d=this;c=["bootstrap-dialog","modal","fade"];k=k||Bootstrap4ModalDialog.Type.Default;switch(k||Bootstrap4ModalDialog.Type.Default){case Bootstrap4ModalDialog.Type.Info:c.push("type-info");
break;case Bootstrap4ModalDialog.Type.Success:c.push("type-succes");break;case Bootstrap4ModalDialog.Type.Primary:c.push("type-primary");break;case Bootstrap4ModalDialog.Type.Warning:c.push("type-warning");break;case Bootstrap4ModalDialog.Type.Danger:c.push("type-danger");break;default:c.push("type-default")}if(h)if(k=typeof h,"number"===k)switch(h){case Bootstrap4ModalDialog.Buttons.Retry:this.dialogButtons=$("<div>").addClass("modal-footer").append($("<button>").addClass("btn btn-primary").attr({type:"button",
"modal-IsDefault":"true"}).text("Retry").click(function(a){d.result=1}));break;case Bootstrap4ModalDialog.Buttons.OK:this.dialogButtons=$("<div>").addClass("modal-footer").append($("<button>").addClass("btn btn-primary").attr({type:"button","modal-IsDefault":"true"}).text("OK").click(function(a){d.result=1}));break;case Bootstrap4ModalDialog.Buttons.Close:this.dialogButtons=$("<div>").addClass("modal-footer").append($("<button>").addClass("btn btn-primary").attr({type:"button","modal-IsDefault":"true"}).text("Close").click(function(a){d.result=
1}));break;case Bootstrap4ModalDialog.Buttons.YesNo:this.dialogButtons=$("<div>").addClass("modal-footer").append($("<button>").addClass("btn btn-primary").attr({type:"button","modal-IsDefault":"true"}).text("Yes").click(function(a){d.result=1}),[$("<button>").addClass("btn btn-secondary").attr({type:"button","modal-IsCancel":"true","data-dismiss":"modal"}).text("No")]);break;case Bootstrap4ModalDialog.Buttons.YesNoDanger:this.dialogButtons=$("<div>").addClass("modal-footer").append($("<button>").addClass("btn btn-danger").attr({type:"button",
"modal-IsDefault":"true"}).text("Yes").click(function(a){d.result=1}),[$("<button>").addClass("btn btn-primary").attr({type:"button","modal-IsCancel":"true","data-dismiss":"modal"}).text("No")])}else{if("object"===k&&h.length&&0<h.length){this.dialogButtons=$("<div>").addClass("modal-footer");var e;h.forEach(function(a,b,c){e=$("<button>").attr("type","button");a.cssClass&&e.addClass(a.cssClass);a.label&&e.text(a.label);"function"===typeof a.action?e.click(function(b){b.stopPropagation();a.action(d)}):
e.click(function(a){a.stopPropagation()});this.append(e)},this.dialogButtons)}}else this.dialogButtons=$("<div>").addClass("modal-footer").append($("<button>").addClass("btn btn-primary").attr({type:"button","modal-IsDefault":"true"}).text("OK").click(function(a){d.result=1}));f||(f="Dialog");this.dialogHeader=$("<div>").addClass("modal-header").append($("<h5>").addClass("modal-title").text(f),[$("<button>").addClass("close").attr({role:"button","aria-label":"Close","data-dismiss":"modal"}).append($("<span>").attr("aria-hidden",
"true").html("&times;"))]);this.dialog=$("<div>").addClass(c).attr({tabindex:"-1",role:"dialog","aria-labelledby":"ModalLabel","aria-hidden":"true","data-backdrop":"false"}).append($("<div>").addClass("modal-dialog modal-dialog-centered").attr("role","document").append($("<div>").addClass("modal-content").append(this.dialogHeader,[this.dialogContent,this.dialogButtons]).click(function(a){if(a.target){var b=$(a.target);b.is("button")||b.is("a")||b.hasClass("clickable")||a.stopPropagation()}else a.stopPropagation()}).draggable({handle:".modal-header",
containment:a})))}Bootstrap4ModalDialog.prototype.SetData=function(a,c){this.objState[a]=c};Bootstrap4ModalDialog.prototype.GetData=function(a){return this.objState[a]};Bootstrap4ModalDialog.prototype.Show=function(a){var c=this;a?a.append(this.dialog):this.parent.append(this.dialog);this.dialog.on("hidden.bs.modal",function(a){window.DialogManager.Unregister(c);c.TriggerCallback();c.Dispose()});this.dialog.on("show.bs.modal",function(a){window.DialogManager.Register(c)});this.dialog.modal()};
Bootstrap4ModalDialog.prototype.RegisterCallback=function(a){"function"===typeof a&&this.callbacks.push(a)};Bootstrap4ModalDialog.prototype.TriggerCallback=function(){0!==this.callbacks.length&&this.callbacks.forEach(function(a,c,f){a(this,this.result)},this)};Bootstrap4ModalDialog.prototype.Hide=function(){this.dialog.modal("hide")};Bootstrap4ModalDialog.prototype.Dispose=function(){this.dialog.modal("dispose");this.dialog.empty();this.dialog.detach()};
Bootstrap4ModalDialog.Buttons={OK:0,Close:1,YesNo:2,YesNoDanger:3,Retry:4};Bootstrap4ModalDialog.Type={Default:0,Info:1,Primary:2,Success:3,Warning:4,Danger:5};/*
 clipboard.js v2.0.0
 https://zenorocha.github.io/clipboard.js

 Licensed MIT ? Zeno Rocha
*/
!function(a,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define([],c):"object"==typeof exports?exports.ClipboardJS=c():a.ClipboardJS=c()}(this,function(){return function(a){function c(h){if(f[h])return f[h].exports;var k=f[h]={i:h,l:!1,exports:{}};return a[h].call(k.exports,k,k.exports,c),k.l=!0,k.exports}var f={};return c.m=a,c.c=f,c.i=function(a){return a},c.d=function(a,f,b){c.o(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,
get:b})},c.n=function(a){var f=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(f,"a",f),f},c.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},c.p="",c(c.s=3)}([function(a,c,f){var h,k,b;!function(d,e){k=[a,f(7)];h=e;void 0!==(b="function"==typeof h?h.apply(c,k):h)&&(a.exports=b)}(0,function(a,b){var d=b&&b.__esModule?b:{default:b},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==
typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(){function a(a,b){for(var d=0;d<b.length;d++){var c=b[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,d,c){return d&&a(b.prototype,d),c&&a(b,c),b}}();b=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.resolveOptions(b);this.initSelection()}return e(a,[{key:"resolveOptions",
value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action=a.action;this.container=a.container;this.emitter=a.emitter;this.target=a.target;this.text=a.text;this.trigger=a.trigger;this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var a=this,b="rtl"==document.documentElement.getAttribute("dir");this.removeFake();this.fakeHandlerCallback=function(){return a.removeFake()};
this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0;this.fakeElem=document.createElement("textarea");this.fakeElem.style.fontSize="12pt";this.fakeElem.style.border="0";this.fakeElem.style.padding="0";this.fakeElem.style.margin="0";this.fakeElem.style.position="absolute";this.fakeElem.style[b?"right":"left"]="-9999px";this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px";this.fakeElem.setAttribute("readonly","");this.fakeElem.value=
this.text;this.container.appendChild(this.fakeElem);this.selectedText=(0,d.default)(this.fakeElem);this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null);this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,d.default)(this.target);this.copyText()}},{key:"copyText",value:function(){var a=
void 0;try{a=document.execCommand(this.action)}catch(p){a=!1}this.handleResult(a)}},{key:"handleResult",value:function(a){this.emitter.emit(a?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus();window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){if(this._action=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:"copy","copy"!==this._action&&"cut"!==this._action)throw Error('Invalid "action" value, use either "copy" or "cut"');},get:function(){return this._action}},{key:"target",set:function(a){if(void 0!==a){if(!a||"object"!==(void 0===a?"undefined":c(a))||1!==a.nodeType)throw Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&a.hasAttribute("disabled"))throw Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');
if("cut"===this.action&&(a.hasAttribute("readonly")||a.hasAttribute("disabled")))throw Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=a}},get:function(){return this._target}}]),a}();a.exports=b})},function(a,c,f){function h(a,b,d){return a.addEventListener(b,d),{destroy:function(){a.removeEventListener(b,d)}}}function k(a,b,d){return Array.prototype.forEach.call(a,function(a){a.addEventListener(b,d)}),{destroy:function(){Array.prototype.forEach.call(a,
function(a){a.removeEventListener(b,d)})}}}var b=f(6),d=f(5);a.exports=function(a,c,f){if(!a&&!c&&!f)throw Error("Missing required arguments");if(!b.string(c))throw new TypeError("Second argument must be a String");if(!b.fn(f))throw new TypeError("Third argument must be a Function");if(b.node(a))return h(a,c,f);if(b.nodeList(a))return k(a,c,f);if(b.string(a))return d(document.body,a,c,f);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");}},function(a,
c){function f(){}f.prototype={on:function(a,c,b){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:c,ctx:b}),this},once:function(a,c,b){function d(){e.off(a,d);c.apply(b,arguments)}var e=this;return d._=c,this.on(a,d,b)},emit:function(a){var c=[].slice.call(arguments,1),b=((this.e||(this.e={}))[a]||[]).slice(),d=0,e=b.length;for(d;d<e;d++)b[d].fn.apply(b[d].ctx,c);return this},off:function(a,c){var b=this.e||(this.e={}),d=b[a],e=[];if(d&&c)for(var f=0,h=d.length;f<h;f++)d[f].fn!==c&&d[f].fn._!==
c&&e.push(d[f]);return e.length?b[a]=e:delete b[a],this}};a.exports=f},function(a,c,f){var h,k,b;!function(d,e){k=[a,f(0),f(2),f(1)];h=e;void 0!==(b="function"==typeof h?h.apply(c,k):h)&&(a.exports=b)}(0,function(a,b,c,f){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function g(a,b){a="data-clipboard-"+a;if(b.hasAttribute(a))return b.getAttribute(a)}var h=d(b);b=d(c);var k=d(f),m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},x=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;
d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,d,c){return d&&a(b.prototype,d),c&&a(b,c),b}}();f=function(a){function b(a,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=(b.__proto__||Object.getPrototypeOf(b)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!=typeof c&&"function"!=typeof c?this:c;return c.resolveOptions(d),c.listenClick(a),
c}return e(b,a),x(b,[{key:"resolveOptions",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof a.action?a.action:this.defaultAction;this.target="function"==typeof a.target?a.target:this.defaultTarget;this.text="function"==typeof a.text?a.text:this.defaultText;this.container="object"===m(a.container)?a.container:document.body}},{key:"listenClick",value:function(a){var b=this;this.listener=(0,k.default)(a,"click",function(a){return b.onClick(a)})}},
{key:"onClick",value:function(a){a=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null);this.clipboardAction=new h.default({action:this.action(a),target:this.target(a),text:this.text(a),container:this.container,trigger:a,emitter:this})}},{key:"defaultAction",value:function(a){return g("action",a)}},{key:"defaultTarget",value:function(a){if(a=g("target",a))return document.querySelector(a)}},{key:"defaultText",value:function(a){return g("text",a)}},{key:"destroy",value:function(){this.listener.destroy();
this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:["copy","cut"],b=!!document.queryCommandSupported;return("string"==typeof a?[a]:a).forEach(function(a){b=b&&!!document.queryCommandSupported(a)}),b}}]),b}(b.default);a.exports=f})},function(a,c){"undefined"==typeof Element||Element.prototype.matches||(c=Element.prototype,c.matches=c.matchesSelector||c.mozMatchesSelector||
c.msMatchesSelector||c.oMatchesSelector||c.webkitMatchesSelector);a.exports=function(a,c){for(;a&&9!==a.nodeType;){if("function"==typeof a.matches&&a.matches(c))return a;a=a.parentNode}}},function(a,c,f){function h(a,b,c,f,h){var d=k.apply(this,arguments);return a.addEventListener(c,d,h),{destroy:function(){a.removeEventListener(c,d,h)}}}function k(a,c,f,h){return function(d){d.delegateTarget=b(d.target,c);d.delegateTarget&&h.call(a,d)}}var b=f(4);a.exports=function(a,b,c,f,k){return"function"==typeof a.addEventListener?
h.apply(null,arguments):"function"==typeof c?h.bind(null,document).apply(null,arguments):("string"==typeof a&&(a=document.querySelectorAll(a)),Array.prototype.map.call(a,function(a){return h(a,b,c,f,k)}))}},function(a,c){c.node=function(a){return void 0!==a&&a instanceof HTMLElement&&1===a.nodeType};c.nodeList=function(a){var f=Object.prototype.toString.call(a);return void 0!==a&&("[object NodeList]"===f||"[object HTMLCollection]"===f)&&"length"in a&&(0===a.length||c.node(a[0]))};c.string=function(a){return"string"==
typeof a||a instanceof String};c.fn=function(a){return"[object Function]"===Object.prototype.toString.call(a)}},function(a,c){a.exports=function(a){if("SELECT"===a.nodeName)a.focus(),a=a.value;else if("INPUT"===a.nodeName||"TEXTAREA"===a.nodeName){var c=a.hasAttribute("readonly");c||a.setAttribute("readonly","");a.select();a.setSelectionRange(0,a.value.length);c||a.removeAttribute("readonly");a=a.value}else{a.hasAttribute("contenteditable")&&a.focus();c=window.getSelection();var f=document.createRange();
f.selectNodeContents(a);c.removeAllRanges();c.addRange(f);a=c.toString()}return a}}])});var clipboardsupport;function readurlparam(a,c){c=c||location.search;return decodeURIComponent(((new RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)")).exec(c)||[null,""])[1].replace(/\+/g,"%20"))||null}function GetUrlParam(a,c){return(a=readurlparam(a))?a:c}function PageReload(){"function"===typeof window.location.reload?window.location.reload():window.location=window.location}
function shownotify(a,c){$.notify({message:a},{type:c,placement:{from:"bottom",align:"right"},animate:{enter:"animated fadeInRight",exit:"animated fadeOutDown"}})}
function SetLoading(a){var c=a.find($("div[metroloading]"));c&&0<c.length||(c=$("<div>").addClass("stretch").addClass("windows8-loading"),c.append($("<b>")),c.append($("<b>")),c.append($("<b>")),c.append($("<b>")),c.append($("<b>")),c=$("<div metroloading>").addClass("midcenter").append(c),$("<div metroloading>").addClass("fixedDiv").addClass("stretch").addClass("disabled").addClass("opacity50").prependTo(a),a.append(c))}
function GetSvgUnavailable(){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.0" x="0px" y="0px" viewBox="0 0 40 40" class="icon icons8-Unavailable"><g id="surface1"><path style="fill:#DFF0FE;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke:#4788C7;stroke-opacity:1;stroke-miterlimit:10;" d="M 20 1 C 9.507813 1 1 9.507813 1 20 C 1 30.492188 9.507813 39 20 39 C 30.492188 39 39 30.492188 39 20 C 39 9.507813 30.492188 1 20 1 Z M 6 20 C 6 12.269531 12.269531 6 20 6 C 22.964844 6 25.707031 6.925781 27.96875 8.496094 L 8.496094 27.96875 C 6.925781 25.707031 6 22.964844 6 20 Z M 20 34 C 17.035156 34 14.292969 33.074219 12.03125 31.503906 L 31.503906 12.03125 C 33.074219 14.292969 34 17.035156 34 20 C 34 27.730469 27.730469 34 20 34 Z"></path></g></svg>'}
function RemoveLoading(a){a.children("div[metroloading]").remove()}String.prototype.ctrim=function(a){void 0===a&&(a="s");return this.replace(new RegExp("^["+a+"]+"),"").replace(new RegExp("["+a+"]+$"),"")};function GetCurrentFolderUrl(){var a=location.pathname.split("/");a[a.length-1]?-1!=a[a.length-1].indexOf(".")&&a.pop():a.pop();return a[a.length-1]}function removefilename(a){};function ShowSkillSelection(a,c,f){window.SkillCore&&(f=[{label:"Select",cssClass:"btn btn-success",action:function(a){a.Hide();"function"===typeof c&&c(a.GetData("selectedskillid"))}}],a&&f.push({label:"Remove",cssClass:"btn btn-danger",action:function(a){a.Hide();"function"===typeof c&&c(null)}}),f.push({label:"Cancel",cssClass:"btn btn-default",action:function(a){a.Hide();"function"===typeof noCallback&&noCallback()}}),(new Bootstrap4ModalDialog($("#dialogs"),function(a){var f=$("<div>").addClass("container"),
b;for(b in window.SkillCore.ActiveSkillList)window.SkillCore.ActiveSkillList.hasOwnProperty(b)&&window.SkillCore.ActiveSkillList[b].IsVisible()&&window.SkillCore.ActiveSkillList[b].IsAssignable()&&0<window.SkillCore.ActiveSkillList[b].GetCurrentSkillLevel()&&f.append($("<div>").addClass("row").append($("<div>").addClass("col").append($("<button>").attr("type","button").addClass("btn btn-primary btn-block").append($("<div>").addClass(["clickthrough","row","text-noselect"]).append([$("<div>").addClass("col-md-auto").append($("<img>").attr("src",
window.SkillCore.ActiveSkillList[b].GetIconURL())),$("<div>").addClass("col").text(window.SkillCore.ActiveSkillList[b].GetName()),$("<div>").addClass("col col-lg-2").text("Lv: "+window.SkillCore.ActiveSkillList[b].GetCurrentSkillLevel()+"/"+window.SkillCore.ActiveSkillList[b].GetMaxLevel())])))).click(function(b){b.stopPropagation();f.find("button.active").removeClass(["btn-success","active"]).addClass("btn-primary");$(this).find("button").removeClass("btn-primary").addClass("active btn-success");
a.SetData("selectedskillid",$(this).attr("skillid"))}).dblclick(function(b){b.stopPropagation();a.Hide();"function"===typeof c&&c($(this).attr("skillid"))}).attr("skillid",b));return $("<div>").addClass("skill-list-select").append(f)},"Select skill to assign",f)).Show())}function GridInfo(){this.IsEmpty=!0;this.myDiv=this.SkillInfo=null}
GridInfo.prototype.Redraw=function(){this.myDiv&&(this.myDiv.empty(),this.IsEmpty?(this.myDiv.append($("<img>").addClass("clickthrough").attr("src","../skillicons/skillslot_empty_null.png")),this.myDiv.attr("title","Click the box to select skill")):(this.myDiv.append($("<img>").addClass("clickthrough").attr("src",this.SkillInfo.GetIconURL())),this.myDiv.attr("title","Skill: "+this.SkillInfo.GetName()+"\nClick the box to select skill")))};
GridInfo.prototype.resetinfo=function(){this.IsEmpty=!0;this.SkillInfo=null};GridInfo.prototype.SetSkill=function(a){a?(this.IsEmpty=!1,this.SkillInfo=a):this.resetinfo();this.Redraw()};GridInfo.prototype.UnsetSkill=function(){this.SetSkill(null)};
GridInfo.prototype.GetRender=function(){var a=this;this.myDiv=$("<div>").addClass("slotskillimg").click(function(c){c.preventDefault();ShowSkillSelection(!a.IsEmpty,function(c){c?a.SetSkill(window.SkillCore.SkillList[c]):a.UnsetSkill()})});this.IsEmpty||0===this.SkillInfo.GetCurrentSkillLevel()&&this.resetinfo();this.IsEmpty?(this.myDiv.append($("<img>").addClass("clickthrough").attr("src","../skillicons/skillslot_empty_null.png")),this.myDiv.attr("title","Click the box to select skill")):(this.myDiv.append($("<img>").addClass("clickthrough").attr("src",
this.SkillInfo.GetIconURL())),this.myDiv.attr("title","Skill: "+this.SkillInfo.GetName()+"\nClick the box to select skill"));return this.myDiv};function SlotGrid(){this.effect2nd="2_1";this.effect3rd="3_1";this.Column=[];this.Column[0]=this.initRow();this.Column[1]=this.initRow();this.Column[2]=this.initRow();this.Column[3]=this.initRow();this.Column[4]=this.initRow();this.Column[5]=this.initRow()}SlotGrid.prototype.getoption=function(a,c){return $("<option>").val(a).text(c)};
SlotGrid.prototype.initRow=function(){var a=[];a[0]=new GridInfo;a[1]=new GridInfo;a[2]=new GridInfo;return a};SlotGrid.prototype.IsEmptyColumn=function(a){for(var c=0;c<this.Column[a].length;c++)if(!this.GetGridValue(a,c).IsEmpty)return!1;return!0};SlotGrid.prototype.IsEmptyTree=function(){for(var a=0;a<this.Column.length;a++)if(!this.IsEmptyColumn(a))return!1;return!0};SlotGrid.prototype.ResetToEmpty=function(){for(var a=0;a<this.Column[0].length;a++)for(var c=0;c<this.Column.length;c++)this.Column[c][a].UnsetSkill()};
SlotGrid.prototype.GetGridValue=function(a,c){return this.Column[a][c]};SlotGrid.prototype.SetGridValue=function(a,c,f){this.Column[a][c].SetSkill(f)};SlotGrid.prototype.UnsetGridValue=function(a,c){this.Column[a][c].UnsetSkill()};SlotGrid.prototype.printfloor=function(a){for(var c=[],f=0;f<a.length;f++)c.push($("<div>").addClass("col").append(a[f]));return c};SlotGrid.prototype.generatefloor=function(){for(var a=[],c=0;c<this.Column[0].length;c++){a[c]=[];for(var f=0;f<this.Column.length;f++)a[c].push(this.Column[f][c].GetRender())}return a};
SlotGrid.prototype.GetRender=function(){var a=this.generatefloor(),c=this;return $("<div>").append($("<ul>").addClass("liststyle-none").append([$("<li>").append($("<div>").addClass("row").append(this.printfloor(a[0]))),$("<li>").append($("<i>").addClass("fas fa-arrow-up")),$("<li>").append($("<span>").text("Step-3 Bonus: "),$("<select>").attr("id","select3rdchaineffect").append([this.getoption("3_1","Damage +8%"),this.getoption("3_2","Cooldown -15%"),this.getoption("3_3","SG cost -25%")]).val(c.effect3rd).change(function(){c.effect3rd=
$(this).val()})),$("<li>").append($("<i>").addClass("fas fa-arrow-up")),$("<li>").append($("<div>").addClass("row").append(this.printfloor(a[1]))),$("<li>").append($("<i>").addClass("fas fa-arrow-up")),$("<li>").append($("<span>").text("Step-2 Bonus: "),$("<select>").attr("id","select2ndchaineffect").append([this.getoption("2_1","Damage +4%"),this.getoption("2_2","Cooldown -8%"),this.getoption("2_3","SG cost -12%")]).val(c.effect2nd).change(function(){c.effect2nd=$(this).val()})),$("<li>").append($("<i>").addClass("fas fa-arrow-up")),
$("<li>").append($("<div>").addClass("row").append(this.printfloor(a[2]))),$("<li>").append($("<span>").text("(Click the boxes to assign skill)"))]))};
SlotGrid.prototype.ReadAssignment=function(){var a,c=GetUrlParam("s",null);if(c)for(c=c.split("_"),a=0;a<c.length;a++){var f=c[a].split("-");var h=window.SkillCore.GetSkillByShortID(f[2]);h||(h=window.SkillCore.GetSkill(f[2]));h&&!h.IsPassive()&&h.IsVisible()&&!0===h.IsAssignable()&&0<h.GetCurrentSkillLevel()&&this.Column[f[0]][f[1]].SetSkill(h)}f=GetUrlParam("b1",null);a=GetUrlParam("b2",null);f&&(this.effect2nd=f);a&&(this.effect3rd=a)};
SlotGrid.prototype.GenerateAssignment=function(){if(this.IsEmptyTree())return null;for(var a=[],c=0;c<this.Column[0].length;c++)for(var f=0;f<this.Column.length;f++)this.Column[f][c].IsEmpty||(this.Column[f][c].SkillInfo.ShortID?a.push(f+"-"+c+"-"+this.Column[f][c].SkillInfo.ShortID):a.push(f+"-"+c+"-"+this.Column[f][c].SkillInfo.GetID()));return a.join("_")};window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return setTimeout(a,1E3/60)};window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(a){clearTimeout(a)};
var v_PreviewHeight="170px",mediaType={webm_vp9:'video/webm; codecs="vp9"',mp4_h264:'video/mp4; codecs="avc1.64001E"'},justSomeTemp1=document.createElement("video"),SupportedCodec={webm:{vp9:"probably"===justSomeTemp1.canPlayType(mediaType.webm_vp9)},mp4:{h264_highProfile:"probably"===justSomeTemp1.canPlayType(mediaType.mp4_h264)}};justSomeTemp1=null;
var isPromiseSupported="undefined"!==typeof Promise,previewOptions={"No preview":0,"Show video":1,"Show video (Beta)":2},previewOptionExplains={0:"Turn off preview",1:"Show skill preview with 30FPS video MP4 container with video codec H.264 (Profile High). This container and the codec are widely supported in most of browsers you can find.",2:"\"Show video (Beta)\" will use 30FPS video WebM container with video codec VP9 to achieve even higher compression. This means you will download less data (it happens only once anyway or until browser's cache is expired or cleaned, so you don't really save anything much) in exchange of higher compute power to decode and play the video. It may have some visual bugs, too, select \"Show video\" option if you can't stand the bug or the video can't be played."},
mouseX,mouseY;$(document).mousemove(function(a){window.mouseX=a.pageX;window.mouseY=a.pageY});function SetToolTip(a){a.attr("tooltipframework","0");return a}function SetToolTipUp(a){a.attr("tooltipframework","1");return a}function SetToolTipDown(a){a.attr("tooltipframework","-1");return a}
function ChangeFileExtension(){if(2===arguments.length){var a=arguments[0].lastIndexOf(".");return-1===a?arguments[0]+arguments[1]:arguments[0].substr(0,a)+arguments[1]}return 3===arguments.length?(a=arguments[0].lastIndexOf(arguments[1]),-1===a?arguments[0]+arguments[2]:arguments[0].substr(0,a)+arguments[2]):arguments[0]}function IsExtension(a,c){return-1!==a.lastIndexOf(c)}
function ShowDangerDialog(a,c,f){a=new Bootstrap4ModalDialog($("#dialogs"),a,"Warning",Bootstrap4ModalDialog.Buttons.YesNoDanger,Bootstrap4ModalDialog.Type.Danger);a.RegisterCallback(function(a,k){k?"function"===typeof c&&c():"function"===typeof f&&f()});a.Show()}function ShowRetryDialog(a,c,f){a=new Bootstrap4ModalDialog($("#dialogs"),a,c,Bootstrap4ModalDialog.Buttons.Retry,Bootstrap4ModalDialog.Type.Warning);a.RegisterCallback(function(a,c){c&&"function"===typeof f&&f()});a.Show()}
function ShowMessageDialog(a,c){a=new Bootstrap4ModalDialog($("#dialogs"),a,"Notice",null,Bootstrap4ModalDialog.Type.Info);a.RegisterCallback(function(a,h){h&&"function"===typeof c&&c()});a.Show()}function ShowConfirmDialog(a,c,f){a=new Bootstrap4ModalDialog($("#dialogs"),a,"Double confirmation",Bootstrap4ModalDialog.Buttons.YesNo,Bootstrap4ModalDialog.Type.Primary);a.RegisterCallback(function(a,k){k?"function"===typeof c&&c():"function"===typeof f&&f()});a.Show()}
function ShowSkillAssignment(a){window.SkillCore&&(new Bootstrap4ModalDialog($("#dialogs"),window.SkillCore.GetSkillAssignmentRender(),"Skill slot assignment",[{label:"Reset",cssClass:"btn btn-warning",action:function(a){window.ShowDangerDialog("Are you sure you want to reset all the slot assignments?",function(){window.SkillCore.ResetSlotAssignment()})}},{label:"Close",cssClass:"btn btn-default",action:function(c){c.Hide();"function"===typeof a&&a()}}],Bootstrap4ModalDialog.Type.Success)).Show()}
function ReRenderTree(a){if("function"===typeof window.SkillCore.RenderTree){if(!a)throw"characterclassinfo is null";window.SkillCore.RenderTree(function(){var c=$("img.image-bg-character");c&&c.remove();a.Cover&&(c=a.Position?a.Position:"side-right",$("#forbackground").append($("<img>").addClass(["image-bg-character",c]).attr("src",a.Cover).imagesLoaded().always(function(a){a.elements.forEach(function(a,c,b){$(a).addClass("animated fadeIn").show()})}).hide()))},!0)}}
function copyLink(a){if(window.clipboardsupport){var c=$("<div>").addClass("hiddendiv");a=$("<button>").addClass("btncopymagicclass").attr("data-clipboard-text",encodeURI(a));c.append(a);$(document.body).append(c);a.trigger("click");c.remove();return!0}c=$("<div>");c.append($("<p>").text("Clipboard access failed. Please copy the link below:"));c.append($("<input>").attr("type","text").css({width:"100%"}).prop("readonly",!0).val(a).click(function(){$(this).select()}));window.ShowMessageDialog(c);return!1}
$(document).ready(function(){var a=$(document.body);a.on("click",".dropdown-menu.keep-open",function(a){a&&a.stopPropagation()});window.SkillTreeSetting={};var c=$("#skillsimulatoroption"),f=$("#option_skillpreview select"),h=$("#saveSettingToBrowser"),k=null,b=previewOptions["Show video (Beta)"];var d=SafeStorage.GetData("skilltree_firsttime");window.SkillTreeSetting.skilltree_firsttime="string"===typeof d?parseInt(d):1;d=SafeStorage.GetData("skilltree_skillpreview");window.SkillTreeSetting.skilltree_skillpreview=
"string"===typeof d?parseInt(d):b;previewOptionExplains.hasOwnProperty(window.SkillTreeSetting.skilltree_skillpreview)||(window.SkillTreeSetting.skilltree_skillpreview=b);var e=$("<span>").text(previewOptionExplains[window.SkillTreeSetting.skilltree_skillpreview]),g=f.popover({animation:!0,placement:"right",trigger:"hover focus",html:!0,content:e});f.change(function(){window.SkillTreeSetting.skilltree_skillpreview=parseInt($(this).val());e.text(previewOptionExplains[window.SkillTreeSetting.skilltree_skillpreview]);
g.popover("update")});for(var m in previewOptions)previewOptions.hasOwnProperty(m)&&f.append($("<option>").attr("value",previewOptions[m]).text(m));if("undefined"===typeof window.SkillTreeSetting.skilltree_firsttime||1===window.SkillTreeSetting.skilltree_firsttime)c.addClass("highlight-red"),k=h.popover({animation:!0,placement:"right",trigger:"hover focus",content:"The option you changed here will not be remembered next time you visit the site. Save the setting to your browser will make your browser remember the setting forever, even when the browser is restarted."}),
c.one("mouseover",function(){c.removeClass("highlight-red")});f.val(window.SkillTreeSetting.skilltree_skillpreview);h.click(function(a){a.preventDefault();k&&(k.popover("hide"),k.on("hidden.bs.popover",function(){k.popover("disable");k.popover("dispose");k=null}));var b=function F(){try{for(var a in window.SkillTreeSetting)window.SkillTreeSetting.hasOwnProperty(a)&&SafeStorage.SetData(a,window.SkillTreeSetting[a]);shownotify("Your setting has been saved","success")}catch(G){ShowDangerDialog($("<div>").append($("<span>").text("Error: "+
G)).append($("<br/>")).append($("<span>").text("Do you want to retry?")),function(){F()})}};if(0===window.SkillTreeSetting.skilltree_firsttime)b();else{var c=function(a){"function"===typeof a.stopPropagation&&a.stopPropagation()},d=$('<span>The setting will be saved to your web browser by using <a href="https://www.w3schools.com/html/html5_webstorage.asp" target="_blank">localStorage</a> (Or fallback to <a href="https://www.w3schools.com/js/js_cookies.asp" target="_blank">cookie</a> if your browser does not support <a href="https://www.w3schools.com/html/html5_webstorage.asp" target="_blank">localStorage</a>).<br/><strong>Do you want to store the data on your computer?</strong></span>').on("click",
"a",c);ShowConfirmDialog(d,function(){window.SkillTreeSetting.skilltree_firsttime=0;d.off("click","a",c);b()},function(){d.off("click","a",c)})}});ClipboardJS&&ClipboardJS.isSupported()?(f=new ClipboardJS(".btncopymagicclass"),window.clipboardsupport=!0,f.on("success",function(a){window.shownotify("The link to this skill tree has been copied to clipboard.","success")}),f.on("error",function(a){var b=$("<div>");b.append($("<p>").text("Clipboard access failed. Please copy the link below:"));b.append($("<input>").attr("type",
"text").css({width:"100%"}).prop("readonly",!0).val(a.text).click(function(){$(this).select()}));window.ShowMessageDialog(b)})):window.clipboardsupport=!1;var n=$("#dialogs");n.hide().click(function(a){a.preventDefault();window.DialogManager.CloseForegroundDialog()});window.DialogManager.OnModalChanged(function(a){a?n.show():n.hide()});SetLoading(a);var q=$("#tooltip"),l=$("#tooltip .tooltipheader"),p=$("#tooltip #skillpreview").css("height",v_PreviewHeight),t=$("#tooltip #skillpreview video").css({height:v_PreviewHeight}),
w=$("#tooltip pre"),x=$(".navbar.fixed-bottom"),r=new SkillTreeToolTipFramework(q,"[tooltipframework][insight]");q.detach();if(isPromiseSupported){var y=function(){p.show();r.UpdateTooltipSize()};t.on("error",function(){p.hide()}).on("canplay",function(a){(a=a.target.play())&&a.then(y,function(){p.hide();r.UpdateTooltipSize()})})}else t.remove(),t=null;r.OnMouseEnter.Register(function(a){var b=$(a.target).attr("insight");if(b){var c=$(a.target).attr("tooltipframework");if(isNaN(c))a.cancel=!0;else{var d=
[],e=window.SkillCore.GetSkill(b);b=e.GetCurrentLevelInfo();var f=null;l.text(e.GetName());f=b.PreviewInfo;r.SetBound(0,0,0,x.outerHeight(!0)||0);p.hide();if(isPromiseSupported&&window.SkillTreeSetting.skilltree_skillpreview!==previewOptions["No preview"]&&f){var g="string"===typeof f.Video.vp9,h="string"===typeof f.Video.h264;if(g||h){var k={src:null};window.SkillTreeSetting.skilltree_skillpreview===previewOptions["Show video (Beta)"]&&g&&SupportedCodec.webm.vp9?(k.src=f.Video.vp9,k.type=mediaType.webm_vp9):
h&&SupportedCodec.mp4.h264_highProfile&&(k.src=f.Video.h264,k.type=mediaType.mp4_h264);"string"===typeof k.src?(t.attr(k),(f=t[0].play())&&f.then(y,function(){})):p.hide()}else"string"===typeof f.Image?$("<img>").attr({width:"240",height:"auto",src:f.Image}).appendTo(p):p.hide()}else p.hide();c=parseInt(c);switch(c){case -1:f=e.GetPreviousLevelInfo();if(b||f)a=b.SkillEffect,c="",f&&(c=f.SkillEffect),d.push("[Current]"),a?(d.push("\n"),d.push(a)):d.push("\n<No info available>"),d.push("\n\n[After]"),
c?(d.push("\n"),d.push(c)):d.push("\n<No info available>");break;case 0:b&&(a=b.SkillDescription,c=b.SkillEffect,a&&(d.push("[Description]\n"),d.push(a)),c&&(0!==d.length&&d.push("\n\n"),d.push("[Effect]\n"),d.push(c)));break;case 1:f=e.GetNextLevelInfo();if(b||f)a=b.SkillEffect,c="",f&&(c=f.SkillEffect),d.push("[Current]"),a?(d.push("\n"),d.push(a)):d.push("\n<No info available>"),d.push("\n\n[After]"),c?(d.push("\n"),d.push(c)):d.push("\n<No info available>");break;default:a.cancel=!0;return}0!==
d?w.text(d.join("")).show():w.empty().hide();q.insertAfter(n)}}});r.OnTooltipHidden.Register(function(a){q.detach()});r.StartListen();$('#charList a[href^="../'+GetCurrentFolderUrl()+'"]').remove();$("#copyURL").click(function(a){a.preventDefault();(a=window.SkillCore.GenerateLink())&&copyLink(a)});$("#copyURLshowassign").click(function(a){a.preventDefault();(a=window.SkillCore.GenerateLink(!0))&&copyLink(a)});$("#resetAllSkill").click(function(){ShowDangerDialog("Are you sure you want to unlearn all skills?",
function(){window.SkillCore.UnlearnAllSkills()})});$("#slotassignment").click(function(){ShowSkillAssignment()});var z=window.location.search,A=GetUrlParam("sa",null),v=GetUrlParam("lv",60),u=GetUrlParam("c",window.SkillCore.GetAvailableClassIndex());60==v&&(v=GetUrlParam("level",60));isNaN(v)&&(v=60);window.SkillCore.ReadTree(function(a){u=Math.min(u,window.SkillCore.GetAvailableClassIndex());for(var b=$("<select>").attr("id","selectLevelBox").change(function(){var a=$(this).val();window.SkillCore.SetLevel(a)?
v=a:$(this).val(v)}),c=1;c<=window.c_maxlevel;c++)b.append($("<option>").val(c).text(c));$("#levelBoxtd").append(b);b.val(v);b=$("<select>").attr("id","selectClassBox").change(function(){var a=$(this).val(),b=window.SkillCore.GetClass(a);window.SkillCore.IsSelectiveClass(a)?ShowConfirmDialog($("<span><strong>Changing class will reset your skill tree.</strong><br/>Are you sure you want to change class?</span>"),function(){window.SkillCore.UnlearnAllSkills();window.SkillCore.SetSelectedClass(a)?(u=
a,ReRenderTree(window.SkillCore.GetSelectedClass())):$("#selectClassBox").val(u)},function(){$("#selectClassBox").val(u)}):(shownotify("The class you selected requires the character to be at least at level "+(b.RequiredLevel||"????"),"info"),$("#selectClassBox").val(u))});if(a.hasOwnProperty("AvailableClass"))for(var d in a.AvailableClass)a.AvailableClass.hasOwnProperty(d)&&b.append($("<option>").val(d).text(a.AvailableClass[d].Name||"Unknown"));else b.append($("<option>").val(0).text("Base"));$("#classBoxtd").append(b)},
function(b,c,d){RemoveLoading(a);if(!1===b)ShowRetryDialog($("<span>Unknown internet error occurred: "+d+"<br/>Do you want to retry?</span>"),function(){PageReload()});else{b=window.SkillCore.GetClass(u).RequiredLevel||0;v<b&&(shownotify("The class you selected requires the character to be at least at level "+(changingclassinfo.RequiredLevel||"????"),"info"),v=b);window.SkillCore.SetCharacterInfo(v,u);$("#selectLevelBox").val(v);$("#selectClassBox").val(u);ReRenderTree(window.SkillCore.GetClass(u));
for(var e in window.SkillCore.SkillList)window.SkillCore.SkillList.hasOwnProperty(e)&&(b=window.SkillCore.SkillList[e],b._availablelevel<=v&&b.IsClassAvailable(u)?(c=readurlparam(b.GetID(),z),!c&&b.ShortID&&(c=readurlparam(b.ShortID,z)),c||(c=b.GetDefaultLevel()),b.SetCurrentSkillLevel(c)):b.SetCurrentSkillLevel(0));window.SkillCore.ReadAssignment();"1"===A&&$("#slotassignment").click()}})});var ClassOperator={AtLeast:0,MustMatch:1,AtMost:2},ClassIndex={Base:0,Upgraded:1};function SkillInfo(a,c,f){this._rowspan=[];this._defaultLevel=0;this._id=a;this._availablelevel=window.c_maxlevel+1;this._currentskilllevel=0;this._name=c;this._passive=!1;this._parent=null;this._visible=!0;this._spused=0;this.Assignable=!0;this.RequiredClassIndex=0;this._previewinfo=null;this.readInfos(f)}
SkillInfo.prototype.readInfos=function(a){this.Levels=[];var c="",f=null;for(k in a.Levels){var h=a.Levels[k];h.Description&&(c=h.Description);h.Preview&&("string"===typeof h.Preview.Video?(f={Video:{}},IsExtension(h.Preview.Video,".{{auto}}")?(f.Video.vp9=ChangeFileExtension(h.Preview.Video,".{{auto}}",".webm"),f.Video.h264=ChangeFileExtension(h.Preview.Video,".{{auto}}",".mp4")):IsExtension(h.Preview.Video,".webm")?f.Video.vp9=h.Preview.Video:IsExtension(h.Preview.Video,".mp4")&&(f.Video.h264=h.Preview.Video)):
f=h.Preview);this.Levels.push(new LevelInfo(h.RequiredLevel,h.RequiredSP,h.Effect,c,f))}this._string_extensions=a.Extensions;a.Passive&&(this._passive=a.Passive);this._iconURL=a.Icon;0==a.Assignable&&(this.Assignable=a.Assignable);0==a.Visible&&(this._visible=a.Visible);this._skillmaxlevel=this.Levels.length-1;0<a.DefaultLevel&&(this._defaultLevel=a.DefaultLevel);this._availablelevel=this.Levels[1].RequiredLevel;a.ID&&(this.ShortID=a.ID);if(a.hasOwnProperty("RowSpan")){c=window.SkillCore.GetAvailableClassIndex();
var k=1;for(h=ClassIndex.Base;h<=c;h++)a.RowSpan.hasOwnProperty(h)&&(k=a.RowSpan[h]),this._rowspan[h]=k}if(a.hasOwnProperty("RequireClass")){c=a.RequireClass.CompareType||ClassOperator.AtLeast;if(isNaN(c))"string"===typeof c?(c=c.toLowerCase(),c="atmost"===c||"<"===c?ClassOperator.AtMost:"mustmatch"===c||"="===c?ClassOperator.MustMatch:ClassOperator.AtLeast):c=ClassOperator.AtLeast;else switch(c){case ClassOperator.AtMost:c=ClassOperator.AtMost;break;case ClassOperator.MustMatch:c=ClassOperator.MustMatch;
break;default:c=ClassOperator.AtLeast}this._classComparer=c;this.RequiredClassIndex=a.RequireClass.ClassIndex||0}};SkillInfo.prototype.SetSkillLevel=function(){if(this._availablelevel<=window.SkillCore.GetCurrentLevel()){var a=GetUrlParam(this._id,null);!a&&this.ShortID&&(a=GetUrlParam(this.ShortID,null));a||(a=this._defaultLevel);this.SetCurrentSkillLevel(a)}else this.SetCurrentSkillLevel(0)};SkillInfo.prototype.SetParent=function(a){this._parent=a};SkillInfo.prototype.GetParent=function(){return this._parent};
SkillInfo.prototype.GetID=function(){return this._id};SkillInfo.prototype.GetName=function(){return this._name};SkillInfo.prototype.GetAvailableLevel=function(){return this._availablelevel};SkillInfo.prototype.GetSPUsed=function(){return this._spused};SkillInfo.prototype.GetCurrentSkillLevel=function(){return this._currentskilllevel};SkillInfo.prototype.GetMaxLevel=function(){return this._skillmaxlevel};SkillInfo.prototype.GetCurrentLevelInfo=function(){return this.Levels[this._currentskilllevel]};
SkillInfo.prototype.GetIconURL=function(){return this._iconURL};SkillInfo.prototype.IsPassive=function(){return this._passive};SkillInfo.prototype.GetDefaultLevel=function(){return this._defaultLevel};SkillInfo.prototype.IsAssignable=function(){return this.Assignable};SkillInfo.prototype.GetRowSpan=function(a){return this._rowspan[a]||1};SkillInfo.prototype.GetNextLevelInfo=function(){return this.Levels[this._currentskilllevel+1]};
SkillInfo.prototype.GetPreviousLevelInfo=function(){return this.Levels[this._currentskilllevel-1]};SkillInfo.prototype.GetExtensions=function(){if(!this._extensions){this._extensions={};var a;for(a in this._string_extensions){var c=this._string_extensions[a];var f=window.SkillCore.GetSkill(c);f.SetParent(this);this._extensions[c]=f}}return this._extensions};SkillInfo.prototype.IsVisible=function(){return this._visible};
SkillInfo.prototype.UnlearnSkill=function(){this._availablelevel>window.SkillCore.GetCurrentLevel()?this.SetCurrentSkillLevel(0):this.ToDefaultLevel()};SkillInfo.prototype.ToDefaultLevel=function(){this.SetCurrentSkillLevel(Math.max(0,this._defaultLevel))};SkillInfo.prototype.SetCurrentSkillLevel=function(a){for(var c=0;c<=this._skillmaxlevel&&(this._currentskilllevel>a&&this.SkillDownEx(),this._currentskilllevel<a&&this.SkillUp(),this._currentskilllevel!==a);c++);};
SkillInfo.prototype.IsClassAvailable=function(a){if(this.RequiredClassIndex)switch(this._classComparer){case ClassOperator.AtMost:return a<=this.RequiredClassIndex;case ClassOperator.MustMatch:return a===this.RequiredClassIndex;default:return a>=this.RequiredClassIndex}return!0};
SkillInfo.prototype.GetSkillPanel=function(a,c){if(this.Panel)if(c)this.Panel&&this.Panel.remove(),this.Panel=null;else return this.Panel;if(a){a=$("<div>").addClass("skillExinfopanel").addClass("fadeinAppear");a.attr("insight",this._id);a.css({top:""});c=$("<img>").addClass("skillExIcon").attr("insight",this._id).attr("src",this.GetIconURL());a.append(c);SetToolTip(c);c=$('<button type="button" class="btn-success skillexup" insight="'+this._id+'">').attr("skillup","1");this._currentskilllevel===
this._skillmaxlevel&&c.addClass("disabled");SetToolTipUp(c);a.append(c.click(function(){$(this).hasClass("disabled")||(window.SkillCore.GetSkill($(this).attr("insight")).SkillUp(),$(this).trigger("mouseover"))}));c=$('<button type="button" class="btn-danger skillexdown" insight="'+this._id+'">').attr("skilldown","1");this._currentskilllevel===this._defaultLevel&&c.addClass("disabled");SetToolTipDown(c);a.append(c.click(function(){$(this).hasClass("disabled")||(window.SkillCore.GetSkill($(this).attr("insight")).SkillDown(),
$(this).trigger("mouseover"))}));a.append($('<p insight="skilllexevel">').addClass("skillExLevel").text(this._currentskilllevel+""+this._skillmaxlevel));c=this.GetExtensions();if(void 0!==c&&0<Object.keys(c).length)for(var f in c)c=window.SkillCore.GetSkill(f),c.GetSkillPanel(!0).appendTo(a);this.Panel=a}else{a=$("<div>").addClass("skillinfopanel").addClass("fadeinAppear");a.attr("insight",this._id);c=$("<img>").addClass("skillIcon").attr("insight",this._id).attr("src",this.GetIconURL());a.append(c);
SetToolTip(c);c=$('<button type="button" class="btn btn-success skillup" insight="'+this._id+'">').attr("skillup","1");this._currentskilllevel===this._skillmaxlevel&&c.addClass("disabled");SetToolTipUp(c);a.append(c.click(function(){window.SkillCore.GetSkill($(this).attr("insight")).SkillUp();$(this).trigger("mouseover")}));c=$('<button type="button" class="btn btn-danger skilldown" insight="'+this._id+'">').attr("skilldown","1");this._currentskilllevel===this._defaultLevel&&c.addClass("disabled");
SetToolTipDown(c);a.append(c.click(function(){window.SkillCore.GetSkill($(this).attr("insight")).SkillDown();$(this).trigger("mouseover")}));a.append($('<p insight="skilllevel">').addClass("skillLevel").text(this._currentskilllevel+"/"+this._skillmaxlevel));c=this.GetExtensions();if(void 0!==c&&0<Object.keys(c).length){var h=!1,k=0;for(f in c){var b=window.SkillCore.GetSkill(f);if(!b.IsVisible()&&b.IsClassAvailable(window.SkillCore.GetSelectedClassIndex())){k++;var d=$("<div>").addClass("extension"+
k+"infopanel");b.GetSkillPanel(!0,!0).appendTo(d);this._currentskilllevel<this._skillmaxlevel?b.Disabled(!0):0<b.GetCurrentSkillLevel()?(b.Disabled(!1),h=!0):b.Disabled(!0);d.appendTo(a)}}if(!h&&this._currentskilllevel==this._skillmaxlevel)for(f in c)window.SkillCore.GetSkill(f).Disabled(!1)}this.Panel=a}return this.Panel};
SkillInfo.prototype.Disabled=function(a){a?(this.UnlearnSkill(),a=this.GetSkillPanel(),a.hasClass("disabled")||a.addClass("disabled"),a.find("button[skilldown]:not(.disabled)").addClass("disabled"),a.find("button[skillup]:not(.disabled)").addClass("disabled"),a.find("img:not(.disabled)").addClass("disabled")):(a=this.GetSkillPanel(),a.hasClass("disabled")&&a.removeClass("disabled"),a.find("img.disabled").removeClass("disabled"),a.find("button.disabled[skilldown]").removeClass("disabled"),a.find("button.disabled[skillup]").removeClass("disabled"))};
SkillInfo.prototype.UpdateSkill=function(){if(this.Panel){var a=this.Panel;a.children('p[insight="skilllevel"]:first').text(this._currentskilllevel+"/"+this._skillmaxlevel);a.children('p[insight="skilllexevel"]:first').text(this._currentskilllevel+""+this._skillmaxlevel);if(this._currentskilllevel<=this._defaultLevel){if(a.children("button[skilldown]:first").addClass("disabled"),(a=this._parent)&&!a.GetNextLevelInfo()){a=a.GetExtensions();for(var c in a)a[c].Disabled(!1)}}else if(this._currentskilllevel==
this._skillmaxlevel){a.children("button[skillup]:first").addClass("disabled");if(a=this._parent)for(c in a=a.GetExtensions(),a){var f=a[c];f.GetID()!==this._id&&f.Disabled(!0)}a=this.GetExtensions();for(c in a)a[c].Disabled(!1)}else{a.children("button.disabled[skilldown]:first").removeClass("disabled");a.children("button.disabled[skillup]:first").removeClass("disabled");if(a=this._parent)for(c in a=a.GetExtensions(),a)f=a[c],f.GetID()!==this._id&&f.Disabled(!0);a=this.GetExtensions();for(c in a)a[c].Disabled(!0)}}};
SkillInfo.prototype.SkillUp=function(){var a=this.GetNextLevelInfo();a&&(a.RequiredLevel>window.SkillCore.GetCurrentLevel()?shownotify("Character level is not enough to learn further.","info"):(a=a.RequiredSP,window.SkillCore.GetSPLeft()<a?shownotify("Insufficient skill point.","info"):(this._currentskilllevel++,this._spused+=a,window.SkillCore.InvestedSPIncrease(a),this.UpdateSkill())))};
SkillInfo.prototype.SkillDown=function(){if(this.GetPreviousLevelInfo())if(this._defaultLevel===this._currentskilllevel)shownotify("Can not go lower than skill's default level.","warning");else{var a=this.GetCurrentLevelInfo().RequiredSP;this._spused-=a;window.SkillCore.InvestedSPDecrease(a);this._currentskilllevel--;this.UpdateSkill()}};
SkillInfo.prototype.SkillDownEx=function(){this.GetPreviousLevelInfo()&&(window.SkillCore.InvestedSPDecrease(this.GetCurrentLevelInfo().RequiredSP),this._currentskilllevel--,this.UpdateSkill())};function LevelInfo(a,c,f,h,k){this.RequiredLevel=a;this.RequiredSP=c;this.SkillDescription=h;this.SkillEffect=f;this.PreviewInfo=k};var c_maxlevel=60;function SkillTreeCore(){this._selectedclassindex=this._spleft=this._investedsp=this._currentlevel=this._totalsp=0;this._selectedclass=null;this.slotassign=new SlotGrid;var a=ClassIndex.Base,c;for(c in ClassIndex)ClassIndex[c]>a&&(a=ClassIndex[c]);this.AvailableClassIndex=a}SkillTreeCore.prototype.GetTotalSP=function(){return this._totalsp};SkillTreeCore.prototype.GetCurrentLevel=function(){return this._currentlevel};SkillTreeCore.prototype.GetInvestedSP=function(){return this._investedsp};
SkillTreeCore.prototype.GetSPLeft=function(){return this._spleft};SkillTreeCore.prototype.GetAvailableClassIndex=function(){return this.AvailableClassIndex};SkillTreeCore.prototype.SetLevel=function(a){var c=this.GetSelectedClass().RequiredLevel||0;if(a>=c)return this.setlevelcore(a),!0;shownotify("The class you selected requires the character to be at level "+c,"info");return!1};
SkillTreeCore.prototype.setlevelcore=function(a){this._currentlevel=Math.min(a,window.c_maxlevel);this._totalsp=this.inner_gettotalsp(this._currentlevel);this.UpdateAllSPs()};SkillTreeCore.prototype.SetLevelFromElement=function(){this.SetLevel(parseInt($("#selectLevelBox").val()))};
SkillTreeCore.prototype.UpdateSP=function(){this._spleft=this._totalsp-this._investedsp;5>this._spleft?$("#e_remainingSP").addClass("alertlow"):$("#e_remainingSP").removeClass("alertlow");$("#e_investedSP").text("Invested SP: "+this._investedsp+"/"+this._totalsp);$("#e_remainingSP").text("Remaining SP: "+this._spleft+"/"+this._totalsp);$("#spusageinfo").html(this.GenerateUsageInfo())};
SkillTreeCore.prototype.UpdateAllSPs=function(){$("#e_investedSP").text("Invested SP: "+this._investedsp+"/"+this._totalsp);this._spleft=this._totalsp-this._investedsp;$("#e_remainingSP").text("Remaining SP: "+this._spleft+"/"+this._totalsp);this.CheckAllSkills()&&(5>this._spleft?$("#e_remainingSP").addClass("alertlow"):$("#e_remainingSP").removeClass("alertlow"));$("#spusageinfo").html(this.GenerateUsageInfo())};SkillTreeCore.prototype.UnlearnAllSkills=function(){for(var a in this.SkillList)this.SkillList[a].UnlearnSkill()};
SkillTreeCore.prototype.CheckAllSkills=function(){if(this._totalsp<this._investedsp){if(this.SkillList)for(var a in this.SkillList)this.SkillList[a].UnlearnSkill();return!1}if(!this.SkillList)return!1;for(a in this.SkillList){var c=this.SkillList[a];if(c.GetAvailableLevel()>this._currentlevel)c.UnlearnSkill();else{c.GetCurrentSkillLevel()<c.GetDefaultLevel()&&c.UnlearnSkill();var f=c.GetCurrentLevelInfo();f.RequiredLevel>this._currentlevel&&c.UnlearnSkill()}}return!0};
SkillTreeCore.prototype.inner_gettotalsp=function(a){for(var c=0,f=1;f<=a;f++)c+=this.inner_gettotalspex(f);return c};
SkillTreeCore.prototype.inner_gettotalspex=function(a){switch(a){case 0:return 0;case 1:return 0;case 2:return 0;case 3:return 0;case 4:return 1;case 5:return 3;case 6:return 1;case 7:return 1;case 8:return 1;case 9:return 1;case 10:return 5;case 15:return 5;case 20:return 10;case 25:return 5;case 30:return 5;case 35:return 5;case 40:return 10;case 45:return 5;case 50:return 5;case 55:return 5;case 60:return 5;default:return 2}};
SkillTreeCore.prototype.GenerateLink=function(a){var c=[];this._currentlevel!==window.c_maxlevel&&c.push("lv="+this._currentlevel);for(var f in this.SkillList){var h=this.SkillList[f].GetCurrentSkillLevel();h!=this.SkillList[f].GetDefaultLevel()&&(this.SkillList[f].ShortID?c.push(this.SkillList[f].ShortID+"="+h):c.push(f+"="+h))}f=location.protocol+"//"+location.host+location.pathname;h=null;var k=this.slotassign.GenerateAssignment();k&&c.push("s="+k);"2_1"!==this.slotassign.effect2nd&&c.push("b1="+
this.slotassign.effect2nd);"3_1"!==this.slotassign.effect3rd&&c.push("b2="+this.slotassign.effect3rd);!0===a&&c.push("sa=1");a=this.GetSelectedClassIndex();a!==this.GetAvailableClassIndex()&&c.push("c="+a);1<c.length?h=c.join("&"):1===c.length&&(h=c[0]);h&&(f=f+"?"+h);return f};
SkillTreeCore.prototype.GenerateUsageInfo=function(){var a={},c;for(c in this.SkillList)if(this.SkillList.hasOwnProperty(c)&&this.SkillList[c].GetCurrentSkillLevel()!=this.SkillList[c].GetDefaultLevel()){var f=this.SkillList[c].GetSPUsed();var h=this.SkillList[c].GetParent();0!=f&&(h?a[h.GetID()]+=" + "+f+"SP":a[c]=this.SkillList[c].GetName()+": "+f+"SP")}h="";f=!0;if(0<Object.keys(a).length)for(c in a)a.hasOwnProperty(c)&&(f?(h+=a[c],f=!1):h+="<br>"+a[c]);return h};
SkillTreeCore.prototype.SetSelectedClass=function(a){var c=this.IsSelectiveClass(a);c&&this.setclasscore(a);return c};SkillTreeCore.prototype.IsSelectiveClass=function(a){return a>this.AvailableClassIndex?!1:this._jsondata.hasOwnProperty("AvailableClass")&&this._jsondata.AvailableClass.hasOwnProperty(a)&&((a=this._jsondata.AvailableClass[a].RequiredLevel)||(a=0),this._currentlevel>=a)?!0:!1};SkillTreeCore.prototype.setclasscore=function(a){this._selectedclassindex=a;this._selectedclass=this._jsondata.AvailableClass[a]};
SkillTreeCore.prototype.SetCharacterInfo=function(a,c){if(!isNaN(a)&&!isNaN(c)){if(c>this.AvailableClassIndex)return!1;if(this._jsondata.hasOwnProperty("AvailableClass")&&this._jsondata.AvailableClass.hasOwnProperty(c)){var f=this._jsondata.AvailableClass[c].RequiredLevel;f||(f=0);if(a>=f)return this.setclasscore(c),this.setlevelcore(a),!0;shownotify("The class you selected requires the character to be at least at level "+f,"info")}return!1}};
SkillTreeCore.prototype.GetClass=function(a){return isNaN(a)?null:this._jsondata.AvailableClass[a]};SkillTreeCore.prototype.GetSelectedClassIndex=function(){return this._selectedclassindex};SkillTreeCore.prototype.GetSelectedClass=function(){return this._selectedclass};SkillTreeCore.prototype.SetJSON=function(a){this._jsondata=a};SkillTreeCore.prototype.GetJSON=function(){return this._jsondata};SkillTreeCore.prototype.ResetSlotAssignment=function(){this.slotassign.ResetToEmpty()};
SkillTreeCore.prototype.SetSkillAssignment=function(a,c,f){this.slotassign.SetGridValue(a,c,f)};SkillTreeCore.prototype.GetSkillAssignmentRender=function(){return this.slotassign.GetRender()};SkillTreeCore.prototype.ReadAssignment=function(){this.slotassign.ReadAssignment()};SkillTreeCore.prototype.GetSkill=function(a){return this.SkillList[a]};
SkillTreeCore.prototype.GetSkillByShortID=function(a){for(var c in this.SkillList)if(this.SkillList.hasOwnProperty(c)&&this.SkillList[c].ShortID&&this.SkillList[c].ShortID==a)return this.SkillList[c];return null};
SkillTreeCore.prototype.ReadTree=function(a,c){this.SkillList={};this.ActiveSkillList={};this.PassiveSkillList={};this.loadedSkillCount=this.SkillCount=0;$.ajax({cache:!1,url:"skilltreeinfo.json",dataType:"json",success:function(f){window.SkillCore.SetJSON(f);void 0===f.MaxLevel||isNaN(f.MaxLevel)||(window.c_maxlevel=f.MaxLevel);if(f.hasOwnProperty("AvailableClass")){var h=0,k;for(k in f.AvailableClass)f.AvailableClass.hasOwnProperty(k)&&k>h&&(h=k);this.AvailableClassIndex=h}f.CharacterName?$("#charName").text(f.CharacterName):
$("#charName").text(GetCurrentFolderUrl());f.CharacterWikiURL?f.CharacterName?$("#morecharacterinfo").attr("href",f.CharacterWikiURL).attr("target","_blank").text("More info about "+f.CharacterName):$("#morecharacterinfo").attr("href",f.CharacterWikiURL).attr("target","_blank").text("More info about "+GetCurrentFolderUrl()):$("#morecharacterinfo").remove();window.document.title="Skill Simulator - "+f.CharacterName;for(var b in f.Skills)f.Skills.hasOwnProperty(b)&&(window.SkillCore.SkillList[b]=new SkillInfo(b,
f.Skills[b].Name,f.Skills[b]),window.SkillCore.SkillList[b].IsPassive()?window.SkillCore.PassiveSkillList[b]=window.SkillCore.SkillList[b]:window.SkillCore.ActiveSkillList[b]=window.SkillCore.SkillList[b]);window.SkillCore.SkillCount=Object.keys(window.SkillCore.SkillList).length;"function"===typeof a&&a(f);"function"===typeof c&&c(!0,null,null)},error:function(a,h,k){"function"===typeof c&&c(!1,h,k)}})};
SkillTreeCore.prototype.RenderTree=function(a,c){var f=$("li#activeskill");if(f){var h=$("<ul>").addClass("tableactiveskill");f.empty();var k=0,b;for(b in this.ActiveSkillList)if(this.ActiveSkillList.hasOwnProperty(b)&&this.ActiveSkillList[b].IsVisible()&&this.ActiveSkillList[b].IsClassAvailable(this._selectedclassindex)){var d=this.ActiveSkillList[b].GetRowSpan(this._selectedclassindex);1<d?k+=d:k++;h.append($("<li>").addClass("tablelike").append(this.ActiveSkillList[b].GetSkillPanel(!1,c)));3<=
k&&(h&&f.append(h),h=$("<ul>").addClass("tableactiveskill"),k=0)}0<k&&h&&f.append(h)}if(f=$("li#passiveskill")){h=$("<ul>").addClass("tablepassiveskill");f.empty();k=0;for(b in this.PassiveSkillList)this.PassiveSkillList.hasOwnProperty(b)&&this.PassiveSkillList[b].IsVisible()&&this.PassiveSkillList[b].IsClassAvailable(this._selectedclassindex)&&(d=this.PassiveSkillList[b].GetRowSpan(this._selectedclassindex),1<d?k+=d:k++,h.append($("<li>").addClass("tablelike").addClass("passiveskilltree").append(this.PassiveSkillList[b].GetSkillPanel(!1,
c))),2<=k&&(h&&f.append(h),h=$("<ul>").addClass("tablepassiveskill"),k=0));0<k&&h&&f.append(h)}"function"===typeof a&&$("#skilltree").imagesLoaded().always(function(){a(!0)})};SkillTreeCore.prototype.InvestedSPIncrease=function(a){this._investedsp+=a;this.UpdateSP()};SkillTreeCore.prototype.InvestedSPDecrease=function(a){this._investedsp-=a;this.UpdateSP()};var SkillCore=new SkillTreeCore;
