function SkillInfo(a,c,b){this._rowspan=1;this._defaultLevel=0;this._id=a;this._availablelevel=window.c_maxlevel+1;this._currentskilllevel=0;this._name=c;this._passive=!1;this._parent=null;this._visible=!0;this._spused=0;this.Assignable=!0;this.readInfos(b)}
SkillInfo.prototype.readInfos=function(a){this.Levels=[];var c="",b;for(b in a.Levels)a.Levels[b].Description&&(c=a.Levels[b].Description),this.Levels.push(new LevelInfo(a.Levels[b].RequiredLevel,a.Levels[b].RequiredSP,a.Levels[b].Effect,c));this._string_extensions=a.Extensions;a.Passive&&(this._passive=a.Passive);this._iconURL=a.Icon;0==a.Assignable&&(this.Assignable=a.Assignable);0==a.Visible&&(this._visible=a.Visible);this._skillmaxlevel=this.Levels.length-1;0<a.DefaultLevel&&(this._defaultLevel=
a.DefaultLevel);this._availablelevel=this.Levels[1].RequiredLevel;a.ID&&(this.ShortID=a.ID);0<a.RowSpan&&(this._rowspan=a.RowSpan);this.SetCurrentSkillLevel(this._defaultLevel);this._availablelevel<=window.SkillCore.GetCurrentLevel()?(a=GetUrlParam(this._id,null),!a&&this.ShortID&&(a=GetUrlParam(this.ShortID,null)),a||(a=this._defaultLevel),this.SetCurrentSkillLevel(a)):this.SetCurrentSkillLevel(0)};SkillInfo.prototype.SetParent=function(a){this._parent=a};SkillInfo.prototype.GetParent=function(){return this._parent};
SkillInfo.prototype.GetID=function(){return this._id};SkillInfo.prototype.GetName=function(){return this._name};SkillInfo.prototype.GetAvailableLevel=function(){return this._availablelevel};SkillInfo.prototype.GetSPUsed=function(){return this._spused};SkillInfo.prototype.GetCurrentSkillLevel=function(){return this._currentskilllevel};SkillInfo.prototype.GetMaxLevel=function(){return this._skillmaxlevel};SkillInfo.prototype.GetCurrentLevelInfo=function(){return this.Levels[this._currentskilllevel]};
SkillInfo.prototype.GetIconURL=function(){return this._iconURL};SkillInfo.prototype.IsPassive=function(){return this._passive};SkillInfo.prototype.GetDefaultLevel=function(){return this._defaultLevel};SkillInfo.prototype.IsAssignable=function(){return this.Assignable};SkillInfo.prototype.GetRowSpan=function(){return this._rowspan};SkillInfo.prototype.GetNextLevelInfo=function(){return this.Levels[this._currentskilllevel+1]};
SkillInfo.prototype.GetPreviousLevelInfo=function(){return this.Levels[this._currentskilllevel-1]};SkillInfo.prototype.GetExtensions=function(){if(!this._extensions){this._extensions={};var a;for(a in this._string_extensions){var c=this._string_extensions[a];var b=window.SkillCore.GetSkill(c);b.SetParent(this);this._extensions[c]=b}}return this._extensions};SkillInfo.prototype.IsVisible=function(){return this._visible};
SkillInfo.prototype.UnlearnSkill=function(){this._availablelevel>window.SkillCore.GetCurrentLevel()?this.SetCurrentSkillLevel(0):this.ToDefaultLevel()};SkillInfo.prototype.ToDefaultLevel=function(){this.SetCurrentSkillLevel(Math.max(0,this._defaultLevel))};SkillInfo.prototype.SetCurrentSkillLevel=function(a){for(var c=0;c<=this._skillmaxlevel&&(this._currentskilllevel>a&&this.SkillDownEx(),this._currentskilllevel<a&&this.SkillUp(),this._currentskilllevel!=a);c++);};
function LevelInfo(a,c,b,d){this.RequiredLevel=a;this.RequiredSP=c;this.SkillDescription=d;this.SkillEffect=b};
